const _0x4d7d9a=_0x3cee;(function(_0x148e53,_0x2c7e54){const _0x3d9fbe=_0x3cee,_0x3d0ee4=_0x148e53();while(!![]){try{const _0x4998aa=-parseInt(_0x3d9fbe(0x10e))/0x1+parseInt(_0x3d9fbe(0x8d))/0x2+-parseInt(_0x3d9fbe(0x73))/0x3*(parseInt(_0x3d9fbe(0xa0))/0x4)+parseInt(_0x3d9fbe(0x111))/0x5*(-parseInt(_0x3d9fbe(0xa8))/0x6)+-parseInt(_0x3d9fbe(0x108))/0x7*(-parseInt(_0x3d9fbe(0x110))/0x8)+parseInt(_0x3d9fbe(0xa1))/0x9+parseInt(_0x3d9fbe(0x12e))/0xa*(parseInt(_0x3d9fbe(0x13b))/0xb);if(_0x4998aa===_0x2c7e54)break;else _0x3d0ee4['push'](_0x3d0ee4['shift']());}catch(_0xe35724){_0x3d0ee4['push'](_0x3d0ee4['shift']());}}}(_0x2c49,0xa3b7c));class Renderer{constructor(_0x8842f9){const _0x3c5e3c=_0x3cee;this[_0x3c5e3c(0xf9)]=_0x8842f9,this[_0x3c5e3c(0x79)]=[],this[_0x3c5e3c(0x13d)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x4d7d9a(0xef)](){const _0x1d45bb=_0x4d7d9a;if(!navigator[_0x1d45bb(0xd0)])throw Error(_0x1d45bb(0x117));const _0x4e282a=await navigator['gpu'][_0x1d45bb(0x8f)]();if(!_0x4e282a)throw Error('Couldn\x27t\x20request\x20WebGPU\x20adapter.');this[_0x1d45bb(0x7e)]=await _0x4e282a[_0x1d45bb(0x12d)](),this[_0x1d45bb(0xa2)]=this[_0x1d45bb(0xf9)][_0x1d45bb(0xaf)](_0x1d45bb(0x9e)),this[_0x1d45bb(0xf8)]=navigator[_0x1d45bb(0xd0)][_0x1d45bb(0xbb)](),this[_0x1d45bb(0xa2)][_0x1d45bb(0x8c)]({'device':this[_0x1d45bb(0x7e)],'format':this[_0x1d45bb(0xf8)]}),this[_0x1d45bb(0x13c)](),window[_0x1d45bb(0x9f)](_0x1d45bb(0x126),this['resizeCanvas'][_0x1d45bb(0x76)](this));}[_0x4d7d9a(0x13c)](){const _0x31d60e=_0x4d7d9a,_0x965a4d=window['devicePixelRatio']||0x1,_0x45d83d=window[_0x31d60e(0x100)]*_0x965a4d,_0x5de8bb=window[_0x31d60e(0x93)]*_0x965a4d;this[_0x31d60e(0xf9)][_0x31d60e(0x13e)]=_0x45d83d,this[_0x31d60e(0xf9)][_0x31d60e(0xf5)]=_0x5de8bb,this['_canvas'][_0x31d60e(0xe2)][_0x31d60e(0x13e)]=window[_0x31d60e(0x100)]+'px',this['_canvas']['style'][_0x31d60e(0xf5)]=window[_0x31d60e(0x93)]+'px',this['render']();}async[_0x4d7d9a(0x74)](_0x53cb6d){const _0x4eb0bb=_0x4d7d9a;await _0x53cb6d[_0x4eb0bb(0xef)](),this[_0x4eb0bb(0x79)][_0x4eb0bb(0x10c)](_0x53cb6d);}[_0x4d7d9a(0x98)](_0x114fc3){const _0x42592f=_0x4d7d9a;for(const _0x530395 of this[_0x42592f(0x79)]){_0x530395?.['updateGeometry']();}let _0x1bfd87=this['_device']['createCommandEncoder']();const _0x4ad6e1=_0x1bfd87[_0x42592f(0x77)]({'colorAttachments':[{'view':_0x114fc3,'clearValue':this[_0x42592f(0x13d)],'loadOp':'clear','storeOp':'store'}]});for(const _0x49dacf of this[_0x42592f(0x79)]){_0x49dacf?.['render'](_0x4ad6e1);}_0x4ad6e1[_0x42592f(0xf2)]();const _0x18c277=_0x1bfd87[_0x42592f(0xe6)]();for(const _0x3e18e9 of this['_objects']){_0x3e18e9?.[_0x42592f(0xb8)](_0x18c277);}_0x18c277['end']();const _0x5737c4=_0x1bfd87[_0x42592f(0xb0)]();this[_0x42592f(0x7e)][_0x42592f(0xcc)][_0x42592f(0x106)]([_0x5737c4]);}['render'](){const _0x29e2eb=_0x4d7d9a;this['renderToSelectedView'](this[_0x29e2eb(0xa2)]['getCurrentTexture']()[_0x29e2eb(0x10b)]());}}function _0x2c49(){const _0x2354d2=['mousemove','createRenderPipeline','no-cache,\x20no-store,\x20max-age=0','STORAGE','normalizeMotor','init','hidden','Renderer\x20Bind\x20Group\x20','end','font','mouseup','height','Camera\x20Pose\x20','ceil','_canvasFormat','_canvas','_shaderModule','_pose','appendChild','./optimized_grid.wgsl','line-strip','_textContext','innerWidth','_objectCnt','_textCanvas','forEach','Mouse\x20is\x20at\x20(','getBindGroupLayout','submit','sqrt','1516382HcSocp','_paddingx','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','createView','push','extractPoint','1236673TAjRhE','Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.','16oLHKGk','3648185HxEYnS','loadShader','createRotor','clientY','createBindGroupLayout','_width','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','createComputePipeline','_vertices','catch','mousedown','measureText','fillStyle','fps:\x20','Vertices\x20','_paddingtop','_cellStatus','keydown','_vertexBufferLayout','setRequestHeader','Grid\x20Pipeline\x20Layout','resize','_cameraPoseBuffer','textBaseline','10px','_bindGroupLayout','remove','createBuffer','requestDevice','10gCoHwU','_topology','_height','motorNorm','createBindGroup','key','mouseleave','split','open','_cameraPose','map','</br>','sin','10850059IxANIo','resizeCanvas','_clearColor','width','Grid\x20Bind\x20Group\x201\x20','_renderPipeline','fragmentMain','updateText','_bindGroup','moveRight','17001ccLMVL','appendSceneObject','Closest\x20offset\x20is\x20(','bind','beginRenderPass','_canvasWidth','_objects','clearRect','moveUp','_canvasHeight','byteLength','_device','_lines','COPY_DST','ArrowUp','createGeometry','zoomIn','auto','ArrowRight','applyMotorToPoint','\x20Shader\x20','white','updateTextRegion','status','setPipeline','configure','284870WsXEpY','updateCameraPose','requestAdapter','VERTEX','onerror','max','innerHeight','rgba(1,\x201,\x201,\x200.5)','createPoint','draw','canvas','renderToSelectedView','statusText','_vertexBuffer','moveLeft','vertexMain','_pipelineLayout','webgpu','addEventListener','120jrgCtN','11203668oNaLOX','_context','setBindGroup','writeBuffer','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','in\x20cell\x20(','createTranslator','6atIoAB','computeMain','Grid\x20Bind\x20Group\x202\x20','_textFont','read-only-storage','fillText','Render\x20Pipeline\x20','getContext','finish','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','position','fillRect','_fontSize','clientX','ArrowLeft','reverse','compute','storage','log','getPreferredCanvasFormat','Cache-Control','_step','body','UNIFORM','left','length','createElement','getElementById','COMPUTE','_numInstances','absolute','then','moveDown','readyState','ArrowDown','toggleVisibility','queue','getName','constructor','applyMotor','gpu','pow','18px\x20Arial','top','_lineSpacing','responseText','onload','render','_computePipeline','_bindGroups','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','name','zoomOut','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','match','updatePose','setVertexBuffer','toString','style','geometricProduct','dispatchWorkgroups','renderCanvas','beginComputePass','_cellStateBuffers','_shaderFile','floor'];_0x2c49=function(){return _0x2354d2;};return _0x2c49();}class PGA2D{static[_0x4d7d9a(0xe3)](_0x3cdc76,_0x14804d){return[_0x3cdc76[0x0]*_0x14804d[0x0]-_0x3cdc76[0x1]*_0x14804d[0x1],_0x3cdc76[0x0]*_0x14804d[0x1]+_0x3cdc76[0x1]*_0x14804d[0x0],_0x3cdc76[0x0]*_0x14804d[0x2]+_0x3cdc76[0x1]*_0x14804d[0x3]+_0x3cdc76[0x2]*_0x14804d[0x0]-_0x3cdc76[0x3]*_0x14804d[0x1],_0x3cdc76[0x0]*_0x14804d[0x3]-_0x3cdc76[0x1]*_0x14804d[0x2]+_0x3cdc76[0x2]*_0x14804d[0x1]+_0x3cdc76[0x3]*_0x14804d[0x0]];}static[_0x4d7d9a(0xb7)](_0x34a1b4){return[_0x34a1b4[0x0],-_0x34a1b4[0x1],-_0x34a1b4[0x2],-_0x34a1b4[0x3]];}static[_0x4d7d9a(0xcf)](_0x428ec5,_0x1de19f){const _0x2fbcfb=_0x4d7d9a;return PGA2D['geometricProduct'](_0x1de19f,PGA2D[_0x2fbcfb(0xe3)](_0x428ec5,PGA2D[_0x2fbcfb(0xb7)](_0x1de19f)));}static[_0x4d7d9a(0x131)](_0x5c71c2){const _0x150c90=_0x4d7d9a;return Math[_0x150c90(0x107)](_0x5c71c2[0x0]*_0x5c71c2[0x0]+_0x5c71c2[0x1]*_0x5c71c2[0x1]+_0x5c71c2[0x2]*_0x5c71c2[0x2]+_0x5c71c2[0x3]*_0x5c71c2[0x3]);}static[_0x4d7d9a(0xa7)](_0x3e9bd9,_0x5d09e){return[0x1,0x0,-_0x3e9bd9/0x2,-_0x5d09e/0x2];}static[_0x4d7d9a(0x113)](_0x5bb62c,_0x4fe90b=0x0,_0x408361=0x0){const _0x6ef576=_0x4d7d9a;let _0x543589=PGA2D[_0x6ef576(0x95)](_0x4fe90b,_0x408361);return[Math['cos'](_0x5bb62c/0x2),Math[_0x6ef576(0x13a)](_0x5bb62c/0x2)*_0x543589[0x1],Math[_0x6ef576(0x13a)](_0x5bb62c/0x2)*_0x543589[0x2],Math['sin'](_0x5bb62c/0x2)*_0x543589[0x3]];}static['createPoint'](_0x4f94a2,_0x3bd8b6){return[0x0,0x1,_0x3bd8b6,-_0x4f94a2];}static[_0x4d7d9a(0x10d)](_0x45d94b){return[-_0x45d94b[0x3]/_0x45d94b[0x1],_0x45d94b[0x2]/_0x45d94b[0x1]];}static[_0x4d7d9a(0xee)](_0x1b8539){const _0x2adc53=_0x4d7d9a;let _0x3b87bd=PGA2D[_0x2adc53(0x131)](_0x1b8539);if(_0x3b87bd==0x0)return[0x1,0x0,0x0,0x0];return[_0x1b8539[0x0]/_0x3b87bd,_0x1b8539[0x1]/_0x3b87bd,_0x1b8539[0x2]/_0x3b87bd,_0x1b8539[0x3]/_0x3b87bd];}static['applyMotorToPoint'](_0x38f24e,_0x44720a){const _0x25e460=_0x4d7d9a;let _0x6a81db=PGA2D['applyMotor'](PGA2D[_0x25e460(0x95)](_0x38f24e[0x0],_0x38f24e[0x1]),_0x44720a);return PGA2D['extractPoint'](_0x6a81db);}static['isInside'](_0x176861,_0xa56ef2,_0x22258d){const _0x270789=_0x4d7d9a,_0xf9a80e=PGA2D['createPoint'](_0xa56ef2[0x0]-_0x176861[0x0],_0xa56ef2[0x1]-_0x176861[0x1]),_0x302fcf=PGA2D[_0x270789(0x95)](_0x22258d[0x0]-_0x176861[0x0],_0x22258d[0x1]-_0x176861[0x1]);return(_0xa56ef2[0x0]-_0x176861[0x0])*(_0x22258d[0x1]-_0x176861[0x1])-(_0xa56ef2[0x1]-_0x176861[0x1])*(_0x22258d[0x0]-_0x176861[0x0])>0x0;}}class Camera{constructor(){const _0x412969=_0x4d7d9a;this[_0x412969(0xfb)]=new Float32Array([0x1,0x0,0x0,0x0,0x1,0x1]);}[_0x4d7d9a(0xdf)](_0x4669f6){const _0x3ddb84=_0x4d7d9a;for(let _0x11851c=0x0;_0x11851c<this[_0x3ddb84(0xfb)][_0x3ddb84(0xc1)]-0x2;++_0x11851c){this[_0x3ddb84(0xfb)][_0x11851c]=_0x4669f6[_0x11851c];}}[_0x4d7d9a(0x9b)](_0xcce4bd){const _0x213a1a=_0x4d7d9a;let _0xad13d9=PGA2D['createTranslator'](-_0xcce4bd,0x0),_0x3634c7=PGA2D[_0x213a1a(0xee)](PGA2D['geometricProduct'](_0xad13d9,[this[_0x213a1a(0xfb)][0x0],this['_pose'][0x1],this[_0x213a1a(0xfb)][0x2],this[_0x213a1a(0xfb)][0x3]]));this[_0x213a1a(0xdf)](_0x3634c7);}['moveRight'](_0x35b1c1){const _0x231a98=_0x4d7d9a;let _0x5b8688=PGA2D['createTranslator'](_0x35b1c1,0x0),_0x3b51bc=PGA2D['normalizeMotor'](PGA2D[_0x231a98(0xe3)](_0x5b8688,[this[_0x231a98(0xfb)][0x0],this['_pose'][0x1],this[_0x231a98(0xfb)][0x2],this[_0x231a98(0xfb)][0x3]]));this[_0x231a98(0xdf)](_0x3b51bc);}[_0x4d7d9a(0x7b)](_0x52774d){const _0x5e8528=_0x4d7d9a;let _0x4a50a8=PGA2D[_0x5e8528(0xa7)](0x0,_0x52774d),_0x2db92c=PGA2D[_0x5e8528(0xee)](PGA2D['geometricProduct'](_0x4a50a8,[this[_0x5e8528(0xfb)][0x0],this['_pose'][0x1],this[_0x5e8528(0xfb)][0x2],this[_0x5e8528(0xfb)][0x3]]));this[_0x5e8528(0xdf)](_0x2db92c);}[_0x4d7d9a(0xc8)](_0x40ebfe){const _0x54eb23=_0x4d7d9a;let _0x28ec39=PGA2D[_0x54eb23(0xa7)](0x0,-_0x40ebfe),_0x40672b=PGA2D[_0x54eb23(0xee)](PGA2D[_0x54eb23(0xe3)](_0x28ec39,[this[_0x54eb23(0xfb)][0x0],this[_0x54eb23(0xfb)][0x1],this[_0x54eb23(0xfb)][0x2],this[_0x54eb23(0xfb)][0x3]]));this['updatePose'](_0x40672b);}['zoomIn'](){const _0x19da90=_0x4d7d9a;this[_0x19da90(0xfb)][0x4]*=1.1,this[_0x19da90(0xfb)][0x5]*=1.1;}[_0x4d7d9a(0xdc)](){const _0x20c58e=_0x4d7d9a;this[_0x20c58e(0xfb)][0x4]/=1.1,this[_0x20c58e(0xfb)][0x5]/=1.1;}}class SceneObject{static [_0x4d7d9a(0x101)]=0x0;constructor(_0x272190,_0x2fa25b,_0x55c497){const _0x18cc67=_0x4d7d9a;if(this['constructor']==SceneObject)throw new Error(_0x18cc67(0xb1));this[_0x18cc67(0x7e)]=_0x272190,this['_canvasFormat']=_0x2fa25b,this['_shaderFile']=_0x55c497,SceneObject[_0x18cc67(0x101)]+=0x1;}['getName'](){const _0x12233a=_0x4d7d9a;return this[_0x12233a(0xce)][_0x12233a(0xdb)]+'\x20'+SceneObject[_0x12233a(0x101)][_0x12233a(0xe1)]();}async[_0x4d7d9a(0xef)](){const _0x25c573=_0x4d7d9a;await this[_0x25c573(0x82)](),await this['createShaders'](),await this[_0x25c573(0xeb)](),await this[_0x25c573(0x118)]();}async[_0x4d7d9a(0x82)](){const _0x40a992=_0x4d7d9a;throw new Error(_0x40a992(0x10f));}['updateGeometry'](){}[_0x4d7d9a(0x112)](_0x1da60c){return new Promise((_0x2e8ad3,_0x53f263)=>{const _0x17c9f9=_0x3cee,_0x48ee29=new XMLHttpRequest();_0x48ee29[_0x17c9f9(0x136)]('GET',_0x1da60c),_0x48ee29[_0x17c9f9(0x124)](_0x17c9f9(0xbc),_0x17c9f9(0xec)),_0x48ee29[_0x17c9f9(0xd6)]=function(){const _0x881e1d=_0x17c9f9;_0x48ee29[_0x881e1d(0xc9)]===XMLHttpRequest['DONE']&&_0x48ee29[_0x881e1d(0x8a)]===0xc8?_0x2e8ad3(_0x48ee29[_0x881e1d(0xd5)]):_0x53f263({'status':_0x48ee29[_0x881e1d(0x8a)],'statusText':_0x48ee29[_0x881e1d(0x99)]});},_0x48ee29[_0x17c9f9(0x91)]=function(){const _0x21fe27=_0x17c9f9;_0x53f263({'status':_0x48ee29['status'],'statusText':_0x48ee29[_0x21fe27(0x99)]});},_0x48ee29['send']();});}async['createShaders'](){const _0x427875=_0x4d7d9a;let _0x4839c8=await this[_0x427875(0x112)](this[_0x427875(0xe8)]);this[_0x427875(0xfa)]=this['_device']['createShaderModule']({'label':_0x427875(0x87)+this[_0x427875(0xcd)](),'code':_0x4839c8});}async[_0x4d7d9a(0xeb)](){const _0x2cefa8=_0x4d7d9a;throw new Error(_0x2cefa8(0xdd));}[_0x4d7d9a(0xd7)](_0x52012b){const _0x5a872f=_0x4d7d9a;throw new Error(_0x5a872f(0xa5));}async[_0x4d7d9a(0x118)](){const _0x422885=_0x4d7d9a;throw new Error(_0x422885(0x10a));}['compute'](_0x2629c0){const _0x465330=_0x4d7d9a;throw new Error(_0x465330(0xda));}};function _0x3cee(_0xab85d9,_0xfdffda){_0xab85d9=_0xab85d9-0x6f;const _0x2c4916=_0x2c49();let _0x3cee86=_0x2c4916[_0xab85d9];return _0x3cee86;}class Camera2DVertexObject extends SceneObject{constructor(_0x32ed25,_0x1047e1,_0x1e31cd,_0x31016f,_0x4d5a37,_0x109a03,_0x20c801){const _0x132e7f=_0x4d7d9a;super(_0x32ed25,_0x1047e1,_0x4d5a37),this['_cameraPose']=_0x1e31cd,this['_vertices']=_0x31016f,this[_0x132e7f(0x12f)]=_0x109a03,this[_0x132e7f(0xc5)]=_0x20c801;}async['createGeometry'](){const _0x3df117=_0x4d7d9a;this[_0x3df117(0x9a)]=this[_0x3df117(0x7e)][_0x3df117(0x12c)]({'label':_0x3df117(0x11f)+this[_0x3df117(0xcd)](),'size':this[_0x3df117(0x119)][_0x3df117(0x7d)],'usage':GPUBufferUsage[_0x3df117(0x90)]|GPUBufferUsage[_0x3df117(0x80)]}),this[_0x3df117(0x7e)][_0x3df117(0xcc)][_0x3df117(0xa4)](this[_0x3df117(0x9a)],0x0,this['_vertices']),this['_vertexBufferLayout']={'arrayStride':0x2*Float32Array['BYTES_PER_ELEMENT'],'attributes':[{'shaderLocation':0x0,'format':'float32x2','offset':0x0}]},this['_cameraPoseBuffer']=this['_device'][_0x3df117(0x12c)]({'label':_0x3df117(0xf6)+this[_0x3df117(0xcd)](),'size':this['_cameraPose']['byteLength'],'usage':GPUBufferUsage[_0x3df117(0xbf)]|GPUBufferUsage[_0x3df117(0x80)]}),this[_0x3df117(0x7e)][_0x3df117(0xcc)][_0x3df117(0xa4)](this[_0x3df117(0x127)],0x0,this[_0x3df117(0x137)]);}[_0x4d7d9a(0x8e)](){const _0x5d1f86=_0x4d7d9a;this[_0x5d1f86(0x7e)][_0x5d1f86(0xcc)][_0x5d1f86(0xa4)](this[_0x5d1f86(0x127)],0x0,this[_0x5d1f86(0x137)]);}async['createRenderPipeline'](){const _0xdb731f=_0x4d7d9a;this[_0xdb731f(0x140)]=this[_0xdb731f(0x7e)][_0xdb731f(0xeb)]({'label':_0xdb731f(0xae)+this[_0xdb731f(0xcd)](),'layout':_0xdb731f(0x84),'vertex':{'module':this[_0xdb731f(0xfa)],'entryPoint':_0xdb731f(0x9c),'buffers':[this[_0xdb731f(0x123)]]},'fragment':{'module':this['_shaderModule'],'entryPoint':'fragmentMain','targets':[{'format':this[_0xdb731f(0xf8)]}]},'primitive':{'topology':this[_0xdb731f(0x12f)]}}),this[_0xdb731f(0x71)]=this[_0xdb731f(0x7e)]['createBindGroup']({'label':_0xdb731f(0xf1)+this[_0xdb731f(0xcd)](),'layout':this[_0xdb731f(0x140)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0xdb731f(0x127)]}}]});}['render'](_0x2ed946){const _0x2c5f0b=_0x4d7d9a;_0x2ed946[_0x2c5f0b(0x8b)](this[_0x2c5f0b(0x140)]),_0x2ed946[_0x2c5f0b(0xe0)](0x0,this[_0x2c5f0b(0x9a)]),_0x2ed946[_0x2c5f0b(0xa3)](0x0,this[_0x2c5f0b(0x71)]),_0x2ed946[_0x2c5f0b(0x96)](this['_vertices']['length']/0x2,this[_0x2c5f0b(0xc5)]);}async[_0x4d7d9a(0x118)](){}[_0x4d7d9a(0xb8)](_0x3f0336){}};class Grid extends Camera2DVertexObject{async[_0x4d7d9a(0x82)](){const _0xa94af=_0x4d7d9a;super[_0xa94af(0x82)](),this['_cellStatus']=new Uint32Array(0xa*0xa),this[_0xa94af(0xe7)]=[this[_0xa94af(0x7e)][_0xa94af(0x12c)]({'label':'Grid\x20status\x20Buffer\x201\x20'+this[_0xa94af(0xcd)](),'size':this['_cellStatus']['byteLength'],'usage':GPUBufferUsage[_0xa94af(0xed)]|GPUBufferUsage[_0xa94af(0x80)]}),this[_0xa94af(0x7e)]['createBuffer']({'label':'Grid\x20status\x20Buffer\x202\x20'+this['getName'](),'size':this[_0xa94af(0x121)]['byteLength'],'usage':GPUBufferUsage[_0xa94af(0xed)]|GPUBufferUsage['COPY_DST']})],this[_0xa94af(0x7e)]['queue'][_0xa94af(0xa4)](this[_0xa94af(0xe7)][0x0],0x0,this[_0xa94af(0x121)]),this[_0xa94af(0xbd)]=0x0;}async['createRenderPipeline'](){const _0x53b8a7=_0x4d7d9a;super['createRenderPipeline'](),this[_0x53b8a7(0xd9)]=[this[_0x53b8a7(0x7e)][_0x53b8a7(0x132)]({'label':'Grid\x20Bind\x20Group\x201\x20'+this[_0x53b8a7(0xcd)](),'layout':this[_0x53b8a7(0x140)][_0x53b8a7(0x105)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraPoseBuffer']}},{'binding':0x1,'resource':{'buffer':this[_0x53b8a7(0xe7)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x53b8a7(0xe7)][0x1]}}]}),this[_0x53b8a7(0x7e)]['createBindGroup']({'label':'Grid\x20Bind\x20Group\x202\x20'+this[_0x53b8a7(0xcd)](),'layout':this[_0x53b8a7(0x140)][_0x53b8a7(0x105)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x53b8a7(0x127)]}},{'binding':0x1,'resource':{'buffer':this[_0x53b8a7(0xe7)][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x53b8a7(0xe7)][0x0]}}]})];}[_0x4d7d9a(0xd7)](_0xb8f1f6){const _0x1d66a2=_0x4d7d9a;_0xb8f1f6[_0x1d66a2(0x8b)](this[_0x1d66a2(0x140)]),_0xb8f1f6['setVertexBuffer'](0x0,this[_0x1d66a2(0x9a)]),_0xb8f1f6[_0x1d66a2(0xa3)](0x0,this['_bindGroups'][this[_0x1d66a2(0xbd)]%0x2]),_0xb8f1f6[_0x1d66a2(0x96)](this['_vertices'][_0x1d66a2(0xc1)]/0x2,this[_0x1d66a2(0xc5)]);}async[_0x4d7d9a(0xeb)](){const _0x14c4a9=_0x4d7d9a;this[_0x14c4a9(0x12a)]=this[_0x14c4a9(0x7e)][_0x14c4a9(0x115)]({'label':'Grid\x20Bind\x20Group\x20Layout\x20'+this[_0x14c4a9(0xcd)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x14c4a9(0x90)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage[_0x14c4a9(0x90)]|GPUShaderStage['COMPUTE'],'buffer':{'type':_0x14c4a9(0xac)}},{'binding':0x2,'visibility':GPUShaderStage[_0x14c4a9(0xc4)],'buffer':{'type':_0x14c4a9(0xb9)}}]}),this['_pipelineLayout']=this[_0x14c4a9(0x7e)]['createPipelineLayout']({'label':_0x14c4a9(0x125),'bindGroupLayouts':[this[_0x14c4a9(0x12a)]]}),this['_renderPipeline']=this[_0x14c4a9(0x7e)][_0x14c4a9(0xeb)]({'label':'Grid\x20Render\x20Pipeline\x20'+this[_0x14c4a9(0xcd)](),'layout':this['_pipelineLayout'],'vertex':{'module':this[_0x14c4a9(0xfa)],'entryPoint':_0x14c4a9(0x9c),'buffers':[this[_0x14c4a9(0x123)]]},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x14c4a9(0x6f),'targets':[{'format':this['_canvasFormat']}]},'primitive':{'topology':this[_0x14c4a9(0x12f)]}}),this[_0x14c4a9(0xd9)]=[this[_0x14c4a9(0x7e)][_0x14c4a9(0x132)]({'label':_0x14c4a9(0x13f)+this[_0x14c4a9(0xcd)](),'layout':this['_renderPipeline'][_0x14c4a9(0x105)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x14c4a9(0x127)]}},{'binding':0x1,'resource':{'buffer':this[_0x14c4a9(0xe7)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x14c4a9(0xe7)][0x1]}}]}),this[_0x14c4a9(0x7e)][_0x14c4a9(0x132)]({'label':_0x14c4a9(0xaa)+this[_0x14c4a9(0xcd)](),'layout':this['_renderPipeline'][_0x14c4a9(0x105)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraPoseBuffer']}},{'binding':0x1,'resource':{'buffer':this['_cellStateBuffers'][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x14c4a9(0xe7)][0x0]}}]})];}async[_0x4d7d9a(0x118)](){const _0x34ab4d=_0x4d7d9a;this[_0x34ab4d(0xd8)]=this[_0x34ab4d(0x7e)][_0x34ab4d(0x118)]({'label':'Grid\x20update\x20pipeline\x20'+this[_0x34ab4d(0xcd)](),'layout':this[_0x34ab4d(0x9d)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x34ab4d(0xa9)}});}[_0x4d7d9a(0xb8)](_0x44c8b3){const _0x2f1c07=_0x4d7d9a;_0x44c8b3['setPipeline'](this[_0x2f1c07(0xd8)]),_0x44c8b3[_0x2f1c07(0xa3)](0x0,this[_0x2f1c07(0xd9)][this[_0x2f1c07(0xbd)]%0x2]),_0x44c8b3[_0x2f1c07(0xe4)](Math[_0x2f1c07(0xf7)](0xa/0x4),Math[_0x2f1c07(0xf7)](0xa/0x4)),++this[_0x2f1c07(0xbd)];}};class StandardTextObject{constructor(_0x1c5570,_0x2518ba=0x5,_0x5f99e3=_0x4d7d9a(0xd2)){const _0x3bea15=_0x4d7d9a;this[_0x3bea15(0xab)]=_0x5f99e3,this['_lineSpacing']=_0x2518ba,this[_0x3bea15(0x102)]=document[_0x3bea15(0xc2)](_0x3bea15(0x97)),this[_0x3bea15(0xff)]=this[_0x3bea15(0x102)][_0x3bea15(0xaf)]('2d'),this[_0x3bea15(0x89)](_0x1c5570),this[_0x3bea15(0x70)](_0x1c5570),this[_0x3bea15(0x102)][_0x3bea15(0xe2)][_0x3bea15(0xb2)]=_0x3bea15(0xc6),this[_0x3bea15(0x102)][_0x3bea15(0xe2)][_0x3bea15(0xd3)]='10px',this[_0x3bea15(0x102)][_0x3bea15(0xe2)][_0x3bea15(0xc0)]=_0x3bea15(0x129),this[_0x3bea15(0x102)]['style']['border']='1px\x20solid\x20red',document[_0x3bea15(0xbe)][_0x3bea15(0xfc)](this[_0x3bea15(0x102)]);}[_0x4d7d9a(0x89)](_0x30db83){const _0x39f81f=_0x4d7d9a;this[_0x39f81f(0xff)][_0x39f81f(0xf3)]=this[_0x39f81f(0xab)],this[_0x39f81f(0x7f)]=_0x30db83[_0x39f81f(0x135)]('\x0a'),this[_0x39f81f(0x116)]=Math[_0x39f81f(0x92)](...this[_0x39f81f(0x7f)][_0x39f81f(0x138)](_0x38be34=>this[_0x39f81f(0xff)][_0x39f81f(0x11c)](_0x38be34)['width']));const _0x5bea94=this[_0x39f81f(0xab)][_0x39f81f(0xde)](/(\d+)px/);_0x5bea94?this[_0x39f81f(0xb4)]=parseInt(_0x5bea94[0x1],0xa):(this[_0x39f81f(0xb4)]=0x12,this['_textFont']=_0x39f81f(0xd2)),this['_height']=this[_0x39f81f(0x7f)]['length']*(this[_0x39f81f(0xb4)]+this[_0x39f81f(0xd4)]),this[_0x39f81f(0x109)]=0x5,this[_0x39f81f(0x120)]=0x3,this[_0x39f81f(0x78)]=Math[_0x39f81f(0xf7)](this[_0x39f81f(0x116)]+this[_0x39f81f(0x109)]*0x2),this['_canvasHeight']=Math[_0x39f81f(0xf7)](this[_0x39f81f(0x130)]+this[_0x39f81f(0x120)]),this[_0x39f81f(0x102)]['width']=this['_canvasWidth'],this[_0x39f81f(0x102)][_0x39f81f(0xf5)]=this[_0x39f81f(0x7c)],this['_textContext'][_0x39f81f(0xf3)]=this[_0x39f81f(0xab)],this[_0x39f81f(0xff)][_0x39f81f(0x128)]='top';}[_0x4d7d9a(0x70)](_0x405214){const _0x2c4b7f=_0x4d7d9a;this[_0x2c4b7f(0x7f)]=_0x405214[_0x2c4b7f(0x135)]('\x0a'),this['_textContext'][_0x2c4b7f(0x11d)]=_0x2c4b7f(0x94),this[_0x2c4b7f(0xff)][_0x2c4b7f(0x7a)](0x0,0x0,this[_0x2c4b7f(0x78)],this[_0x2c4b7f(0x7c)]),this[_0x2c4b7f(0xff)][_0x2c4b7f(0xb3)](0x0,0x0,this[_0x2c4b7f(0x78)],this[_0x2c4b7f(0x7c)]),this[_0x2c4b7f(0xff)][_0x2c4b7f(0x11d)]=_0x2c4b7f(0x88),this[_0x2c4b7f(0x7f)][_0x2c4b7f(0x103)]((_0xc3a9f6,_0x191b32)=>{const _0xf1b520=_0x2c4b7f,_0x5a240f=this[_0xf1b520(0x109)],_0x1757d7=this[_0xf1b520(0x120)]+_0x191b32*(this[_0xf1b520(0xb4)]+this[_0xf1b520(0xd4)]);this['_textContext'][_0xf1b520(0xad)](_0xc3a9f6,_0x5a240f,_0x1757d7);});}[_0x4d7d9a(0xcb)](){const _0x489a74=_0x4d7d9a;this['_textCanvas']['hidden']=!this['_textCanvas'][_0x489a74(0xf0)];}};;var vertices=new Float32Array([-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5]);function mouseToNDC(_0xf34611){const _0x39b701=_0x4d7d9a,_0x5e49e1=_0xf34611[_0x39b701(0xb5)]/window[_0x39b701(0x100)]*0x2-0x1,_0x166e04=-_0xf34611[_0x39b701(0x114)]/window[_0x39b701(0x93)]*0x2+0x1;return[_0x5e49e1,_0x166e04];}async function init(){const _0x19416b=_0x4d7d9a,_0x25a40b=document['createElement'](_0x19416b(0x97));_0x25a40b['id']=_0x19416b(0xe5),document['body'][_0x19416b(0xfc)](_0x25a40b);const _0x34ea9f=new Renderer(_0x25a40b);await _0x34ea9f[_0x19416b(0xef)]();let _0x3179e0=new Camera();var _0x3cac77=new Grid(_0x34ea9f[_0x19416b(0x7e)],_0x34ea9f[_0x19416b(0xf8)],_0x3179e0[_0x19416b(0xfb)],vertices,_0x19416b(0xfd),_0x19416b(0xfe),0xa*0xa);await _0x34ea9f[_0x19416b(0x74)](_0x3cac77);let _0x54e060='??';var _0x2173a8=new StandardTextObject(_0x19416b(0x11e)+_0x54e060),_0x140ea0=0.05;window['addEventListener'](_0x19416b(0x122),_0xee96f6=>{const _0x44bda8=_0x19416b;switch(_0xee96f6[_0x44bda8(0x133)]){case'f':case'F':_0x2173a8['toggleVisibility']();break;case _0x44bda8(0x81):case'w':case'W':_0x3179e0[_0x44bda8(0x7b)](_0x140ea0),_0x3cac77['updateCameraPose']();break;case _0x44bda8(0xca):case's':case'S':_0x3179e0['moveDown'](_0x140ea0),_0x3cac77[_0x44bda8(0x8e)]();break;case _0x44bda8(0xb6):case'a':case'A':_0x3179e0['moveLeft'](_0x140ea0),_0x3cac77[_0x44bda8(0x8e)]();break;case _0x44bda8(0x85):case'd':case'D':_0x3179e0[_0x44bda8(0x72)](_0x140ea0),_0x3cac77[_0x44bda8(0x8e)]();break;case'q':case'Q':_0x3179e0[_0x44bda8(0x83)](),_0x3cac77[_0x44bda8(0x8e)]();break;case'e':case'E':_0x3179e0[_0x44bda8(0xdc)](),_0x3cac77[_0x44bda8(0x8e)]();break;}});let _0x1893c4={'x':0x0,'y':0x0},_0x268357=![];_0x25a40b[_0x19416b(0x9f)]('mousemove',_0x368b15=>{const _0x5483c5=_0x19416b,_0x25f5eb=_0x368b15['clientX'],_0x48839c=_0x368b15[_0x5483c5(0x114)];console[_0x5483c5(0xba)]('Mouse\x20is\x20at\x20('+_0x25f5eb+',\x20'+_0x48839c+')');}),_0x25a40b['addEventListener'](_0x19416b(0xea),_0x42b4e6=>{const _0x4d50f6=_0x19416b,_0x175d39=_0x42b4e6[_0x4d50f6(0xb5)]/window[_0x4d50f6(0x100)]*0x2-0x1,_0x4f4275=-_0x42b4e6[_0x4d50f6(0x114)]/window['innerHeight']*0x2+0x1;console[_0x4d50f6(0xba)](_0x4d50f6(0x104)+_0x175d39+',\x20'+_0x4f4275+')');}),_0x25a40b['addEventListener'](_0x19416b(0xea),_0xf77e53=>{const _0x106552=_0x19416b;var _0x16977e=_0xf77e53[_0x106552(0xb5)]/window[_0x106552(0x100)]*0x2-0x1,_0x40ddbe=-_0xf77e53['clientY']/window[_0x106552(0x93)]*0x2+0x1;_0x16977e/=_0x3179e0['_pose'][0x4],_0x40ddbe/=_0x3179e0[_0x106552(0xfb)][0x5];let _0x23e1e6=PGA2D['applyMotorToPoint']([_0x16977e,_0x40ddbe],[_0x3179e0['_pose'][0x0],_0x3179e0[_0x106552(0xfb)][0x1],_0x3179e0[_0x106552(0xfb)][0x2],_0x3179e0[_0x106552(0xfb)][0x3]]);console[_0x106552(0xba)](_0x106552(0x104)+_0x23e1e6[0x0]+',\x20'+_0x23e1e6[0x1]+')');}),_0x25a40b[_0x19416b(0x9f)](_0x19416b(0xea),_0x2d8cfe=>{const _0xf5b60e=_0x19416b;if(!_0x268357)return;const _0x2e4504=mouseToNDC(_0x2d8cfe),_0x214a0c=_0x2e4504[0x0]-_0x1893c4['x'],_0x1669ea=_0x2e4504[0x1]-_0x1893c4['y'];let _0x2000da=Math['sqrt'](Math[_0xf5b60e(0xd1)](_0x214a0c,0x2)+Math[_0xf5b60e(0xd1)](_0x1669ea,0x2));if(_0x2000da>0.001){_0x1893c4['x']=_0x2e4504[0x0],_0x1893c4['y']=_0x2e4504[0x1];if(_0x214a0c>0x0)_0x3179e0['moveRight'](-_0x214a0c);else _0x3179e0[_0xf5b60e(0x9b)](_0x214a0c);if(_0x1669ea>0x0)_0x3179e0[_0xf5b60e(0x7b)](-_0x1669ea);else _0x3179e0[_0xf5b60e(0xc8)](_0x1669ea);_0x3cac77[_0xf5b60e(0x8e)](),_0x34ea9f[_0xf5b60e(0xd7)]();}}),_0x25a40b['addEventListener'](_0x19416b(0x11b),_0x4f95ef=>{_0x268357=!![];const _0xf1bb06=mouseToNDC(_0x4f95ef);_0x1893c4['x']=_0xf1bb06[0x0],_0x1893c4['y']=_0xf1bb06[0x1];}),_0x25a40b['addEventListener'](_0x19416b(0xf4),_0x3ca430=>{_0x268357=![];}),_0x25a40b[_0x19416b(0x9f)](_0x19416b(0x134),_0x419252=>{_0x268357=![];}),_0x25a40b[_0x19416b(0x9f)]('mousemove',_0x36fc77=>{const _0xea8670=_0x19416b;var _0x3f992c=_0x36fc77[_0xea8670(0xb5)]/window[_0xea8670(0x100)]*0x2-0x1,_0x1f6845=-_0x36fc77[_0xea8670(0x114)]/window['innerHeight']*0x2+0x1;_0x3f992c/=_0x3179e0[_0xea8670(0xfb)][0x4],_0x1f6845/=_0x3179e0[_0xea8670(0xfb)][0x5];let _0x58b2eb=PGA2D[_0xea8670(0x86)]([_0x3f992c,_0x1f6845],[_0x3179e0[_0xea8670(0xfb)][0x0],_0x3179e0[_0xea8670(0xfb)][0x1],_0x3179e0[_0xea8670(0xfb)][0x2],_0x3179e0['_pose'][0x3]]),_0x27e2f7=0x1,_0x2fd518=_0x27e2f7*0x2,_0x351f74=Math[_0xea8670(0xe9)]((_0x58b2eb[0x0]+_0x27e2f7)/_0x2fd518*0xa),_0x1e596a=Math[_0xea8670(0xe9)]((_0x58b2eb[0x1]+_0x27e2f7)/_0x2fd518*0xa);console['log'](_0xea8670(0x75)+_0x351f74+',\x20'+_0x1e596a+')');if(_0x351f74>=0x0&&_0x351f74<0xa&&_0x1e596a>=0x0&&_0x1e596a<0xa){let _0x19257e=-_0x27e2f7+_0x351f74/0xa*_0x2fd518+_0x2fd518/0xa*0.5,_0x85dd07=-_0x27e2f7+_0x1e596a/0xa*_0x2fd518+_0x2fd518/0xa*0.5;-0.5/0xa+_0x19257e<=_0x58b2eb[0x0]&&_0x58b2eb[0x0]<=0.5/0xa+_0x19257e&&-0.5/0xa+_0x85dd07<=_0x58b2eb[0x1]&&_0x58b2eb[0x1]<=0.5/0xa+_0x85dd07&&console[_0xea8670(0xba)](_0xea8670(0xa6)+_0x351f74+',\x20'+_0x1e596a+')');}});var _0x31156e=0x0,_0x3b8d87=0xa,_0x1a8905=0x1/_0x3b8d87,_0x156af4=_0x1a8905*0x3e8,_0x5ad459;let _0x496ffa=()=>{const _0xdbb73b=_0x19416b;let _0x220c04=Date['now']()-_0x5ad459;_0x220c04>_0x156af4&&(++_0x31156e,_0x5ad459=Date['now']()-_0x220c04%_0x156af4,_0x34ea9f[_0xdbb73b(0xd7)]()),requestAnimationFrame(_0x496ffa);};return _0x5ad459=Date['now'](),_0x496ffa(),setInterval(()=>{const _0x27b01b=_0x19416b;_0x2173a8[_0x27b01b(0x70)](_0x27b01b(0x11e)+_0x31156e),_0x31156e=0x0;},0x3e8),_0x34ea9f;}init()[_0x4d7d9a(0xc7)](_0x499bbb=>{const _0xe4b995=_0x4d7d9a;console[_0xe4b995(0xba)](_0x499bbb);})[_0x4d7d9a(0x11a)](_0xda07d9=>{const _0x507e54=_0x4d7d9a,_0x29d95a=document['createElement']('p');_0x29d95a['innerHTML']=navigator['userAgent']+_0x507e54(0x139)+_0xda07d9['message'],document[_0x507e54(0xbe)][_0x507e54(0xfc)](_0x29d95a),document[_0x507e54(0xc3)]('renderCanvas')[_0x507e54(0x12b)]();});