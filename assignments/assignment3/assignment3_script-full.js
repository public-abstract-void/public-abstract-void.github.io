const _0x19eca0=_0x1659;(function(_0x252d88,_0x1c2d71){const _0x5c86fa=_0x1659,_0x31d890=_0x252d88();while(!![]){try{const _0x5c48cd=-parseInt(_0x5c86fa(0x1fc))/0x1*(-parseInt(_0x5c86fa(0x20e))/0x2)+-parseInt(_0x5c86fa(0x2b8))/0x3*(-parseInt(_0x5c86fa(0x263))/0x4)+parseInt(_0x5c86fa(0x292))/0x5+parseInt(_0x5c86fa(0x2b7))/0x6*(-parseInt(_0x5c86fa(0x27e))/0x7)+parseInt(_0x5c86fa(0x288))/0x8*(-parseInt(_0x5c86fa(0x1fb))/0x9)+-parseInt(_0x5c86fa(0x254))/0xa+-parseInt(_0x5c86fa(0x24b))/0xb*(-parseInt(_0x5c86fa(0x2b1))/0xc);if(_0x5c48cd===_0x1c2d71)break;else _0x31d890['push'](_0x31d890['shift']());}catch(_0x10fda9){_0x31d890['push'](_0x31d890['shift']());}}}(_0x27b1,0xbeb0a));class Renderer{constructor(_0x21dbf1){const _0x4ed3f9=_0x1659;this[_0x4ed3f9(0x240)]=_0x21dbf1,this['_objects']=[],this[_0x4ed3f9(0x26e)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async[_0x19eca0(0x2ac)](){const _0x1bbc7a=_0x19eca0;if(!navigator[_0x1bbc7a(0x260)])throw Error(_0x1bbc7a(0x243));const _0x2afd2c=await navigator[_0x1bbc7a(0x260)]['requestAdapter']();if(!_0x2afd2c)throw Error(_0x1bbc7a(0x28d));this[_0x1bbc7a(0x291)]=await _0x2afd2c[_0x1bbc7a(0x26d)](),this[_0x1bbc7a(0x26f)]=this[_0x1bbc7a(0x240)][_0x1bbc7a(0x2b5)](_0x1bbc7a(0x255)),this[_0x1bbc7a(0x21c)]=navigator[_0x1bbc7a(0x260)][_0x1bbc7a(0x23b)](),this[_0x1bbc7a(0x26f)]['configure']({'device':this[_0x1bbc7a(0x291)],'format':this[_0x1bbc7a(0x21c)]}),this[_0x1bbc7a(0x2b6)](),window[_0x1bbc7a(0x266)](_0x1bbc7a(0x233),this[_0x1bbc7a(0x2b6)][_0x1bbc7a(0x231)](this));}[_0x19eca0(0x2b6)](){const _0x5e5033=_0x19eca0,_0x19bfa0=window[_0x5e5033(0x274)]||0x1,_0x5f15db=window['innerWidth']*_0x19bfa0,_0x37dcaa=window[_0x5e5033(0x217)]*_0x19bfa0;this[_0x5e5033(0x240)][_0x5e5033(0x2ad)]=_0x5f15db,this[_0x5e5033(0x240)][_0x5e5033(0x2bd)]=_0x37dcaa,this['_canvas'][_0x5e5033(0x2af)][_0x5e5033(0x2ad)]=window['innerWidth']+'px',this[_0x5e5033(0x240)][_0x5e5033(0x2af)][_0x5e5033(0x2bd)]=window[_0x5e5033(0x217)]+'px',this[_0x5e5033(0x1ed)]();}async['appendSceneObject'](_0x393b23){const _0x2c7107=_0x19eca0;await _0x393b23[_0x2c7107(0x2ac)](),this[_0x2c7107(0x221)]['push'](_0x393b23);}[_0x19eca0(0x214)](_0x14a67a){const _0x51053f=_0x19eca0;for(const _0x410634 of this[_0x51053f(0x221)]){_0x410634?.[_0x51053f(0x299)]();}let _0x562e01=this[_0x51053f(0x291)]['createCommandEncoder']();const _0x386060=_0x562e01[_0x51053f(0x206)]({'colorAttachments':[{'view':_0x14a67a,'clearValue':this[_0x51053f(0x26e)],'loadOp':_0x51053f(0x1f0),'storeOp':_0x51053f(0x2a5)}]});for(const _0x40c88e of this[_0x51053f(0x221)]){_0x40c88e?.[_0x51053f(0x1ed)](_0x386060);}_0x386060[_0x51053f(0x245)]();const _0xc605a4=_0x562e01[_0x51053f(0x23c)]();for(const _0x39bada of this[_0x51053f(0x221)]){_0x39bada?.['compute'](_0xc605a4);}_0xc605a4[_0x51053f(0x245)]();const _0x17d82d=_0x562e01[_0x51053f(0x244)]();this[_0x51053f(0x291)]['queue'][_0x51053f(0x2bc)]([_0x17d82d]);}[_0x19eca0(0x1ed)](){const _0xdd3505=_0x19eca0;this[_0xdd3505(0x214)](this['_context'][_0xdd3505(0x2be)]()[_0xdd3505(0x29f)]());}}class PGA2D{static[_0x19eca0(0x250)](_0xddedc7,_0x51231f){return[_0xddedc7[0x0]*_0x51231f[0x0]-_0xddedc7[0x1]*_0x51231f[0x1],_0xddedc7[0x0]*_0x51231f[0x1]+_0xddedc7[0x1]*_0x51231f[0x0],_0xddedc7[0x0]*_0x51231f[0x2]+_0xddedc7[0x1]*_0x51231f[0x3]+_0xddedc7[0x2]*_0x51231f[0x0]-_0xddedc7[0x3]*_0x51231f[0x1],_0xddedc7[0x0]*_0x51231f[0x3]-_0xddedc7[0x1]*_0x51231f[0x2]+_0xddedc7[0x2]*_0x51231f[0x1]+_0xddedc7[0x3]*_0x51231f[0x0]];}static[_0x19eca0(0x247)](_0x5702b3){return[_0x5702b3[0x0],-_0x5702b3[0x1],-_0x5702b3[0x2],-_0x5702b3[0x3]];}static[_0x19eca0(0x284)](_0x57737a,_0x35030e){const _0x49500d=_0x19eca0;return PGA2D[_0x49500d(0x250)](_0x35030e,PGA2D[_0x49500d(0x250)](_0x57737a,PGA2D[_0x49500d(0x247)](_0x35030e)));}static[_0x19eca0(0x25e)](_0x8b195a){return Math['sqrt'](_0x8b195a[0x0]*_0x8b195a[0x0]+_0x8b195a[0x1]*_0x8b195a[0x1]+_0x8b195a[0x2]*_0x8b195a[0x2]+_0x8b195a[0x3]*_0x8b195a[0x3]);}static[_0x19eca0(0x26a)](_0x366d0b,_0x3432a2){return[0x1,0x0,-_0x366d0b/0x2,-_0x3432a2/0x2];}static['createRotor'](_0x1cc15e,_0x958c61=0x0,_0x2ce697=0x0){const _0x2093d7=_0x19eca0;let _0x1d96f8=PGA2D[_0x2093d7(0x256)](_0x958c61,_0x2ce697);return[Math['cos'](_0x1cc15e/0x2),Math[_0x2093d7(0x1f4)](_0x1cc15e/0x2)*_0x1d96f8[0x1],Math[_0x2093d7(0x1f4)](_0x1cc15e/0x2)*_0x1d96f8[0x2],Math[_0x2093d7(0x1f4)](_0x1cc15e/0x2)*_0x1d96f8[0x3]];}static[_0x19eca0(0x256)](_0x27e9fe,_0x17dcc9){return[0x0,0x1,_0x17dcc9,-_0x27e9fe];}static[_0x19eca0(0x261)](_0x183b2a){return[-_0x183b2a[0x3]/_0x183b2a[0x1],_0x183b2a[0x2]/_0x183b2a[0x1]];}static['normalizeMotor'](_0x1307e6){const _0x5c34d6=_0x19eca0;let _0x2dde4f=PGA2D[_0x5c34d6(0x25e)](_0x1307e6);if(_0x2dde4f==0x0)return[0x1,0x0,0x0,0x0];return[_0x1307e6[0x0]/_0x2dde4f,_0x1307e6[0x1]/_0x2dde4f,_0x1307e6[0x2]/_0x2dde4f,_0x1307e6[0x3]/_0x2dde4f];}static[_0x19eca0(0x1ee)](_0xa4fdcf,_0x3fc6c5){const _0x1934e8=_0x19eca0;let _0x53ca64=PGA2D[_0x1934e8(0x284)](PGA2D[_0x1934e8(0x256)](_0xa4fdcf[0x0],_0xa4fdcf[0x1]),_0x3fc6c5);return PGA2D[_0x1934e8(0x261)](_0x53ca64);}static[_0x19eca0(0x202)](_0x3ac011,_0x3eff2a,_0x5a2789){const _0xb62dd8=_0x19eca0,_0x291ee6=PGA2D[_0xb62dd8(0x256)](_0x3eff2a[0x0]-_0x3ac011[0x0],_0x3eff2a[0x1]-_0x3ac011[0x1]),_0x50d569=PGA2D[_0xb62dd8(0x256)](_0x5a2789[0x0]-_0x3ac011[0x0],_0x5a2789[0x1]-_0x3ac011[0x1]);return(_0x3eff2a[0x0]-_0x3ac011[0x0])*(_0x5a2789[0x1]-_0x3ac011[0x1])-(_0x3eff2a[0x1]-_0x3ac011[0x1])*(_0x5a2789[0x0]-_0x3ac011[0x0])>0x0;}}class Camera{constructor(){const _0x1b4698=_0x19eca0;this[_0x1b4698(0x204)]=new Float32Array([0x1,0x0,0x0,0x0,0x1,0x1]);}[_0x19eca0(0x212)](_0x2db92d){const _0x328115=_0x19eca0;for(let _0x120f38=0x0;_0x120f38<this[_0x328115(0x204)][_0x328115(0x229)]-0x2;++_0x120f38){this[_0x328115(0x204)][_0x120f38]=_0x2db92d[_0x120f38];}}[_0x19eca0(0x2b3)](_0x4ba3ad){const _0x3e3d01=_0x19eca0;let _0x17ca9b=PGA2D[_0x3e3d01(0x26a)](-_0x4ba3ad,0x0),_0xeef028=PGA2D[_0x3e3d01(0x27b)](PGA2D[_0x3e3d01(0x250)](_0x17ca9b,[this[_0x3e3d01(0x204)][0x0],this[_0x3e3d01(0x204)][0x1],this[_0x3e3d01(0x204)][0x2],this[_0x3e3d01(0x204)][0x3]]));this[_0x3e3d01(0x212)](_0xeef028);}[_0x19eca0(0x27f)](_0x3e12d9){const _0xb004d9=_0x19eca0;let _0xe8def2=PGA2D['createTranslator'](_0x3e12d9,0x0),_0x207128=PGA2D[_0xb004d9(0x27b)](PGA2D[_0xb004d9(0x250)](_0xe8def2,[this[_0xb004d9(0x204)][0x0],this['_pose'][0x1],this[_0xb004d9(0x204)][0x2],this['_pose'][0x3]]));this['updatePose'](_0x207128);}[_0x19eca0(0x211)](_0x33ee10){const _0x8c012b=_0x19eca0;let _0x5bbfba=PGA2D[_0x8c012b(0x26a)](0x0,_0x33ee10),_0x464a35=PGA2D[_0x8c012b(0x27b)](PGA2D[_0x8c012b(0x250)](_0x5bbfba,[this['_pose'][0x0],this[_0x8c012b(0x204)][0x1],this['_pose'][0x2],this[_0x8c012b(0x204)][0x3]]));this['updatePose'](_0x464a35);}[_0x19eca0(0x270)](_0x111077){const _0x22f0c1=_0x19eca0;let _0x5df287=PGA2D[_0x22f0c1(0x26a)](0x0,-_0x111077),_0x350b44=PGA2D[_0x22f0c1(0x27b)](PGA2D[_0x22f0c1(0x250)](_0x5df287,[this[_0x22f0c1(0x204)][0x0],this[_0x22f0c1(0x204)][0x1],this['_pose'][0x2],this[_0x22f0c1(0x204)][0x3]]));this[_0x22f0c1(0x212)](_0x350b44);}[_0x19eca0(0x21a)](){const _0x1dde36=_0x19eca0;this[_0x1dde36(0x204)][0x4]*=1.1,this['_pose'][0x5]*=1.1;}['zoomOut'](){const _0xe078ab=_0x19eca0;this['_pose'][0x4]/=1.1,this[_0xe078ab(0x204)][0x5]/=1.1;}}class SceneObject{static [_0x19eca0(0x21d)]=0x0;constructor(_0x43176c,_0x32721d,_0x504f06){const _0x2acd1c=_0x19eca0;if(this[_0x2acd1c(0x278)]==SceneObject)throw new Error(_0x2acd1c(0x246));this[_0x2acd1c(0x291)]=_0x43176c,this[_0x2acd1c(0x21c)]=_0x32721d,this[_0x2acd1c(0x1f2)]=_0x504f06,SceneObject[_0x2acd1c(0x21d)]+=0x1;}['getName'](){const _0x2d500e=_0x19eca0;return this[_0x2d500e(0x278)][_0x2d500e(0x225)]+'\x20'+SceneObject['_objectCnt'][_0x2d500e(0x267)]();}async['init'](){const _0x56e844=_0x19eca0;await this[_0x56e844(0x27a)](),await this[_0x56e844(0x1fa)](),await this[_0x56e844(0x29c)](),await this['createComputePipeline']();}async['createGeometry'](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}['updateGeometry'](){}[_0x19eca0(0x277)](_0x57eeb5){return new Promise((_0xad808a,_0x51e70f)=>{const _0x2b8752=_0x1659,_0x51e749=new XMLHttpRequest();_0x51e749[_0x2b8752(0x236)](_0x2b8752(0x264),_0x57eeb5),_0x51e749[_0x2b8752(0x201)](_0x2b8752(0x25c),'no-cache,\x20no-store,\x20max-age=0'),_0x51e749[_0x2b8752(0x20a)]=function(){const _0x2a2071=_0x2b8752;_0x51e749['readyState']===XMLHttpRequest[_0x2a2071(0x25a)]&&_0x51e749[_0x2a2071(0x213)]===0xc8?_0xad808a(_0x51e749['responseText']):_0x51e70f({'status':_0x51e749[_0x2a2071(0x213)],'statusText':_0x51e749['statusText']});},_0x51e749[_0x2b8752(0x226)]=function(){const _0x3fdd14=_0x2b8752;_0x51e70f({'status':_0x51e749[_0x3fdd14(0x213)],'statusText':_0x51e749['statusText']});},_0x51e749['send']();});}async[_0x19eca0(0x1fa)](){const _0x49f6f6=_0x19eca0;let _0x545213=await this[_0x49f6f6(0x277)](this[_0x49f6f6(0x1f2)]);this[_0x49f6f6(0x295)]=this[_0x49f6f6(0x291)][_0x49f6f6(0x1f5)]({'label':'\x20Shader\x20'+this[_0x49f6f6(0x2a2)](),'code':_0x545213});}async[_0x19eca0(0x29c)](){const _0x757f06=_0x19eca0;throw new Error(_0x757f06(0x28f));}[_0x19eca0(0x1ed)](_0x33251d){const _0x5dde55=_0x19eca0;throw new Error(_0x5dde55(0x259));}async[_0x19eca0(0x24a)](){throw new Error('Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.');}[_0x19eca0(0x209)](_0xb40b1d){const _0x6a54b1=_0x19eca0;throw new Error(_0x6a54b1(0x290));}};class Camera2DVertexObject extends SceneObject{constructor(_0x4bcb76,_0x3928bf,_0x3e9b37,_0x369762,_0x13d4b5,_0x1b0057,_0x352b52){const _0x4242bb=_0x19eca0;super(_0x4bcb76,_0x3928bf,_0x13d4b5),this[_0x4242bb(0x242)]=_0x3e9b37,this[_0x4242bb(0x1f1)]=_0x369762,this[_0x4242bb(0x20c)]=_0x1b0057,this[_0x4242bb(0x2ab)]=_0x352b52;}async['createGeometry'](){const _0x2e15b5=_0x19eca0;this[_0x2e15b5(0x282)]=this[_0x2e15b5(0x291)][_0x2e15b5(0x220)]({'label':_0x2e15b5(0x22f)+this[_0x2e15b5(0x2a2)](),'size':this[_0x2e15b5(0x1f1)][_0x2e15b5(0x219)],'usage':GPUBufferUsage[_0x2e15b5(0x281)]|GPUBufferUsage[_0x2e15b5(0x248)]}),this['_device'][_0x2e15b5(0x239)][_0x2e15b5(0x257)](this[_0x2e15b5(0x282)],0x0,this[_0x2e15b5(0x1f1)]),this['_vertexBufferLayout']={'arrayStride':0x2*Float32Array[_0x2e15b5(0x294)],'attributes':[{'shaderLocation':0x0,'format':_0x2e15b5(0x1ff),'offset':0x0}]},this['_cameraPoseBuffer']=this[_0x2e15b5(0x291)][_0x2e15b5(0x220)]({'label':_0x2e15b5(0x1f9)+this[_0x2e15b5(0x2a2)](),'size':this[_0x2e15b5(0x242)][_0x2e15b5(0x219)],'usage':GPUBufferUsage[_0x2e15b5(0x293)]|GPUBufferUsage[_0x2e15b5(0x248)]}),this[_0x2e15b5(0x291)][_0x2e15b5(0x239)][_0x2e15b5(0x257)](this[_0x2e15b5(0x27d)],0x0,this[_0x2e15b5(0x242)]);}[_0x19eca0(0x29a)](){const _0xfa42e7=_0x19eca0;this[_0xfa42e7(0x291)][_0xfa42e7(0x239)]['writeBuffer'](this['_cameraPoseBuffer'],0x0,this[_0xfa42e7(0x242)]);}async[_0x19eca0(0x29c)](){const _0x5ab37e=_0x19eca0;this[_0x5ab37e(0x2ae)]=this[_0x5ab37e(0x291)][_0x5ab37e(0x29c)]({'label':_0x5ab37e(0x216)+this[_0x5ab37e(0x2a2)](),'layout':_0x5ab37e(0x228),'vertex':{'module':this[_0x5ab37e(0x295)],'entryPoint':_0x5ab37e(0x208),'buffers':[this[_0x5ab37e(0x276)]]},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x5ab37e(0x275),'targets':[{'format':this['_canvasFormat']}]},'primitive':{'topology':this[_0x5ab37e(0x20c)]}}),this[_0x5ab37e(0x286)]=this[_0x5ab37e(0x291)][_0x5ab37e(0x237)]({'label':'Renderer\x20Bind\x20Group\x20'+this[_0x5ab37e(0x2a2)](),'layout':this['_renderPipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_cameraPoseBuffer']}}]});}[_0x19eca0(0x1ed)](_0x860604){const _0x50da1b=_0x19eca0;_0x860604[_0x50da1b(0x223)](this['_renderPipeline']),_0x860604[_0x50da1b(0x2b9)](0x0,this[_0x50da1b(0x282)]),_0x860604[_0x50da1b(0x28b)](0x0,this['_bindGroup']),_0x860604[_0x50da1b(0x285)](this[_0x50da1b(0x1f1)][_0x50da1b(0x229)]/0x2,this[_0x50da1b(0x2ab)]);}async[_0x19eca0(0x24a)](){}[_0x19eca0(0x209)](_0x24bbe4){}};const GRID_DIMENSIONX=0x800,GRID_DIMENSIONY=GRID_DIMENSIONX,GRID=0x4;class Grid extends Camera2DVertexObject{async['createGeometry'](){const _0xae7b5f=_0x19eca0;super[_0xae7b5f(0x27a)](),this[_0xae7b5f(0x2ba)]=new Uint32Array(GRID_DIMENSIONX*GRID_DIMENSIONY),this['_cellStateBuffers']=[this[_0xae7b5f(0x291)]['createBuffer']({'label':_0xae7b5f(0x2a3)+this[_0xae7b5f(0x2a2)](),'size':this['_cellStatus'][_0xae7b5f(0x219)],'usage':GPUBufferUsage[_0xae7b5f(0x28c)]|GPUBufferUsage[_0xae7b5f(0x248)]}),this[_0xae7b5f(0x291)][_0xae7b5f(0x220)]({'label':_0xae7b5f(0x224)+this[_0xae7b5f(0x2a2)](),'size':this[_0xae7b5f(0x2ba)][_0xae7b5f(0x219)],'usage':GPUBufferUsage[_0xae7b5f(0x28c)]|GPUBufferUsage[_0xae7b5f(0x248)]})],this[_0xae7b5f(0x235)](),this['_step']=0x0;}[_0x19eca0(0x235)](){const _0x5958f0=_0x19eca0;for(let _0x4e2879=0x0;_0x4e2879<this[_0x5958f0(0x2ba)][_0x5958f0(0x229)];_0x4e2879++){this['_cellStatus'][_0x4e2879]=Math[_0x5958f0(0x24e)](Math[_0x5958f0(0x265)]());}this[_0x5958f0(0x291)][_0x5958f0(0x239)][_0x5958f0(0x257)](this[_0x5958f0(0x20f)][0x0],0x0,this[_0x5958f0(0x2ba)]);}async[_0x19eca0(0x29c)](){const _0x52b423=_0x19eca0;super[_0x52b423(0x29c)](),this[_0x52b423(0x2a7)]=[this[_0x52b423(0x291)][_0x52b423(0x237)]({'label':'Grid\x20Bind\x20Group\x201\x20'+this[_0x52b423(0x2a2)](),'layout':this['_renderPipeline']['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x52b423(0x27d)]}},{'binding':0x1,'resource':{'buffer':this[_0x52b423(0x20f)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x52b423(0x20f)][0x1]}}]}),this[_0x52b423(0x291)][_0x52b423(0x237)]({'label':_0x52b423(0x23f)+this[_0x52b423(0x2a2)](),'layout':this['_renderPipeline'][_0x52b423(0x21f)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x52b423(0x27d)]}},{'binding':0x1,'resource':{'buffer':this['_cellStateBuffers'][0x1]}},{'binding':0x2,'resource':{'buffer':this['_cellStateBuffers'][0x0]}}]})];}['render'](_0x2e5eca){const _0x4d9618=_0x19eca0;_0x2e5eca['setPipeline'](this[_0x4d9618(0x2ae)]),_0x2e5eca['setVertexBuffer'](0x0,this[_0x4d9618(0x282)]),_0x2e5eca[_0x4d9618(0x28b)](0x0,this['_bindGroups'][this[_0x4d9618(0x2a9)]%0x2]),_0x2e5eca[_0x4d9618(0x285)](this['_vertices'][_0x4d9618(0x229)]/0x2,this[_0x4d9618(0x2ab)]);}async[_0x19eca0(0x29c)](){const _0x221704=_0x19eca0;this[_0x221704(0x21e)]=this[_0x221704(0x291)]['createBindGroupLayout']({'label':_0x221704(0x283)+this[_0x221704(0x2a2)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x221704(0x281)],'buffer':{}},{'binding':0x1,'visibility':GPUShaderStage['VERTEX']|GPUShaderStage['COMPUTE'],'buffer':{'type':'read-only-storage'}},{'binding':0x2,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':'storage'}}]}),this[_0x221704(0x1f7)]=this[_0x221704(0x291)][_0x221704(0x23d)]({'label':_0x221704(0x298),'bindGroupLayouts':[this[_0x221704(0x21e)]]}),this[_0x221704(0x2ae)]=this[_0x221704(0x291)][_0x221704(0x29c)]({'label':_0x221704(0x1f6)+this[_0x221704(0x2a2)](),'layout':this[_0x221704(0x1f7)],'vertex':{'module':this['_shaderModule'],'entryPoint':_0x221704(0x208),'buffers':[this[_0x221704(0x276)]]},'fragment':{'module':this['_shaderModule'],'entryPoint':_0x221704(0x275),'targets':[{'format':this[_0x221704(0x21c)]}]},'primitive':{'topology':this[_0x221704(0x20c)]}}),this[_0x221704(0x2a7)]=[this[_0x221704(0x291)][_0x221704(0x237)]({'label':_0x221704(0x230)+this['getName'](),'layout':this[_0x221704(0x2ae)]['getBindGroupLayout'](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x221704(0x27d)]}},{'binding':0x1,'resource':{'buffer':this[_0x221704(0x20f)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x221704(0x20f)][0x1]}}]}),this[_0x221704(0x291)][_0x221704(0x237)]({'label':'Grid\x20Bind\x20Group\x202\x20'+this[_0x221704(0x2a2)](),'layout':this[_0x221704(0x2ae)][_0x221704(0x21f)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x221704(0x27d)]}},{'binding':0x1,'resource':{'buffer':this['_cellStateBuffers'][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x221704(0x20f)][0x0]}}]})];}async['createComputePipeline'](){const _0x28ce3f=_0x19eca0;this['_computePipeline']=this['_device'][_0x28ce3f(0x24a)]({'label':'Grid\x20update\x20pipeline\x20'+this[_0x28ce3f(0x2a2)](),'layout':this[_0x28ce3f(0x1f7)],'compute':{'module':this[_0x28ce3f(0x295)],'entryPoint':'computeMain'}});}[_0x19eca0(0x209)](_0x42a138){const _0x248149=_0x19eca0;_0x42a138[_0x248149(0x223)](this[_0x248149(0x25b)]),_0x42a138['setBindGroup'](0x0,this[_0x248149(0x2a7)][this[_0x248149(0x2a9)]%0x2]),_0x42a138[_0x248149(0x28e)](Math[_0x248149(0x273)](GRID_DIMENSIONX/GRID),Math[_0x248149(0x273)](GRID_DIMENSIONY/GRID)),++this[_0x248149(0x2a9)];}}function _0x27b1(){const _0x3b4e93=['top','getContext','resizeCanvas','774EzXEUR','3oshEHu','setVertexBuffer','_cellStatus','clearRect','submit','height','getCurrentTexture','</br>','render','applyMotorToPoint','appendSceneObject','clear','_vertices','_shaderFile','_canvasHeight','sin','createShaderModule','Grid\x20Render\x20Pipeline\x20','_pipelineLayout','_textContext','Camera\x20Pose\x20','createShaders','8174898PNjxkh','1uClsrF','toggleVisibility','mouseleave','float32x2','zoomOut','setRequestHeader','isInside','_paddingx','_pose','font','beginRenderPass','r\x20to\x20reset','vertexMain','compute','onload','clientY','_topology','remove','995872CBEGCd','_cellStateBuffers','now','moveUp','updatePose','status','renderToSelectedView','Mouse\x20is\x20at\x20(','Render\x20Pipeline\x20','innerHeight','log','byteLength','zoomIn','q/e\x20to\x20zoom\x20camera\x20in/out','_canvasFormat','_objectCnt','_bindGroupLayout','getBindGroupLayout','createBuffer','_objects','ArrowRight','setPipeline','Grid\x20status\x20Buffer\x202\x20','name','onerror','keydown','auto','length','_textFont','p\x20to\x20pause/unpause','max','_paddingtop','userAgent','Vertices\x20','Grid\x20Bind\x20Group\x201\x20','bind','floor','resize','mousemove','reset','open','createBindGroup','_lines','queue','createElement','getPreferredCanvasFormat','beginComputePass','createPipelineLayout','mouseup','Grid\x20Bind\x20Group\x202\x20','_canvas','catch','_cameraPose','WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.','finish','end','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','reverse','COPY_DST','sqrt','createComputePipeline','913pjMvwF','forEach','canvas','round','key','geometricProduct','textBaseline','_canvasWidth','_height','15164980LYHkec','webgpu','createPoint','writeBuffer','hidden','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','DONE','_computePipeline','Cache-Control','ArrowUp','motorNorm','renderCanvas','gpu','extractPoint','appendChild','1035852wlSbJX','GET','random','addEventListener','toString','left','18px\x20Arial','createTranslator','split','updateTextRegion','requestDevice','_clearColor','_context','moveDown','wasd\x20to\x20move\x20camera\x20up/left/right/down','white','ceil','devicePixelRatio','fragmentMain','_vertexBufferLayout','loadShader','constructor','pow','createGeometry','normalizeMotor','fillStyle','_cameraPoseBuffer','40586ULoVvc','moveRight','position','VERTEX','_vertexBuffer','Grid\x20Bind\x20Group\x20Layout\x20','applyMotor','draw','_bindGroup','_fontSize','8uIoLbY','ArrowLeft','in\x20cell\x20(','setBindGroup','STORAGE','Couldn\x27t\x20request\x20WebGPU\x20adapter.','dispatchWorkgroups','Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','_device','6112210bEOCze','UNIFORM','BYTES_PER_ELEMENT','_shaderModule','fps:\x20','innerWidth','Grid\x20Pipeline\x20Layout','updateGeometry','updateCameraPose','updateText','createRenderPipeline','_lineSpacing','10px','createView','getElementById','_textCanvas','getName','Grid\x20status\x20Buffer\x201\x20','_width','store','ArrowDown','_bindGroups','body','_step','clientX','_numInstances','init','width','_renderPipeline','style','message','285468qceCJO','absolute','moveLeft'];_0x27b1=function(){return _0x3b4e93;};return _0x27b1();};class StandardTextObject{constructor(_0x3796fd,_0x49be07=0xa,_0xa0df7=0x5,_0x13df89='18px\x20Arial'){const _0xee69f1=_0x19eca0;this['_textFont']=_0x13df89,this[_0xee69f1(0x29d)]=_0xa0df7,this['_textCanvas']=document[_0xee69f1(0x23a)](_0xee69f1(0x24d)),this['_textContext']=this[_0xee69f1(0x2a1)]['getContext']('2d'),this['updateTextRegion'](_0x3796fd),this[_0xee69f1(0x29b)](_0x3796fd),this[_0xee69f1(0x2a1)]['style'][_0xee69f1(0x280)]=_0xee69f1(0x2b2),this[_0xee69f1(0x2a1)][_0xee69f1(0x2af)][_0xee69f1(0x2b4)]=_0x49be07+'px',this[_0xee69f1(0x2a1)][_0xee69f1(0x2af)][_0xee69f1(0x268)]=_0xee69f1(0x29e),this['_textCanvas']['style']['border']='1px\x20solid\x20red',document[_0xee69f1(0x2a8)]['appendChild'](this['_textCanvas']);}[_0x19eca0(0x26c)](_0xfbc2fa){const _0x52e982=_0x19eca0;this[_0x52e982(0x1f8)][_0x52e982(0x205)]=this[_0x52e982(0x22a)],this[_0x52e982(0x238)]=_0xfbc2fa[_0x52e982(0x26b)]('\x0a'),this[_0x52e982(0x2a4)]=Math[_0x52e982(0x22c)](...this[_0x52e982(0x238)]['map'](_0x2f1ec1=>this[_0x52e982(0x1f8)]['measureText'](_0x2f1ec1)['width']));const _0x58f07d=this[_0x52e982(0x22a)]['match'](/(\d+)px/);_0x58f07d?this[_0x52e982(0x287)]=parseInt(_0x58f07d[0x1],0xa):(this[_0x52e982(0x287)]=0x12,this[_0x52e982(0x22a)]=_0x52e982(0x269)),this[_0x52e982(0x253)]=this[_0x52e982(0x238)]['length']*(this[_0x52e982(0x287)]+this[_0x52e982(0x29d)]),this[_0x52e982(0x203)]=0x5,this[_0x52e982(0x22d)]=0x3,this[_0x52e982(0x252)]=Math[_0x52e982(0x273)](this[_0x52e982(0x2a4)]+this['_paddingx']*0x2),this['_canvasHeight']=Math[_0x52e982(0x273)](this['_height']+this[_0x52e982(0x22d)]),this['_textCanvas'][_0x52e982(0x2ad)]=this[_0x52e982(0x252)],this[_0x52e982(0x2a1)][_0x52e982(0x2bd)]=this[_0x52e982(0x1f3)],this[_0x52e982(0x1f8)]['font']=this[_0x52e982(0x22a)],this[_0x52e982(0x1f8)][_0x52e982(0x251)]=_0x52e982(0x2b4);}['updateText'](_0x37fd1e){const _0x160fef=_0x19eca0;this[_0x160fef(0x238)]=_0x37fd1e['split']('\x0a'),this['_textContext'][_0x160fef(0x27c)]='rgba(1,\x201,\x201,\x200.5)',this[_0x160fef(0x1f8)][_0x160fef(0x2bb)](0x0,0x0,this['_canvasWidth'],this[_0x160fef(0x1f3)]),this[_0x160fef(0x1f8)]['fillRect'](0x0,0x0,this[_0x160fef(0x252)],this[_0x160fef(0x1f3)]),this['_textContext']['fillStyle']=_0x160fef(0x272),this[_0x160fef(0x238)][_0x160fef(0x24c)]((_0x462b5b,_0x500d58)=>{const _0x299fd3=_0x160fef,_0x8f0c7f=this[_0x299fd3(0x203)],_0x25e2fb=this[_0x299fd3(0x22d)]+_0x500d58*(this['_fontSize']+this[_0x299fd3(0x29d)]);this['_textContext']['fillText'](_0x462b5b,_0x8f0c7f,_0x25e2fb);});}[_0x19eca0(0x1fd)](){const _0x19cfab=_0x19eca0;this[_0x19cfab(0x2a1)][_0x19cfab(0x258)]=!this['_textCanvas'][_0x19cfab(0x258)];}};;function _0x1659(_0x48b147,_0x582ddf){_0x48b147=_0x48b147-0x1ed;const _0x27b1de=_0x27b1();let _0x165924=_0x27b1de[_0x48b147];return _0x165924;}var vertices=new Float32Array([-0.7,-0.7,0.7,-0.7,0.7,0.7,-0.7,0.7,-0.7,-0.7]);const DIMENSION=0x800,FPS=0x14;var tgtFPS=FPS,frameCnt=0x0,secPerFrame,frameInterval,lastCalled;function do_fps_stuff(_0x81d8b5){tgtFPS=_0x81d8b5,secPerFrame=0x1/tgtFPS,frameInterval=secPerFrame*0x3e8;}function mouseToNDC(_0xd576dc){const _0x3a4860=_0x19eca0,_0x24abf0=_0xd576dc[_0x3a4860(0x2aa)]/window['innerWidth']*0x2-0x1,_0x1bbab=-_0xd576dc[_0x3a4860(0x20b)]/window[_0x3a4860(0x217)]*0x2+0x1;return[_0x24abf0,_0x1bbab];}async function init(){const _0x2ce46b=_0x19eca0,_0x33c943=document[_0x2ce46b(0x23a)]('canvas');_0x33c943['id']='renderCanvas',document[_0x2ce46b(0x2a8)][_0x2ce46b(0x262)](_0x33c943);const _0x285350=new Renderer(_0x33c943);await _0x285350['init']();let _0x2e6cfd=new Camera();var _0x23e364=new Grid(_0x285350[_0x2ce46b(0x291)],_0x285350[_0x2ce46b(0x21c)],_0x2e6cfd[_0x2ce46b(0x204)],vertices,'./optimized_grid.wgsl','triangle-strip',DIMENSION*DIMENSION);await _0x285350[_0x2ce46b(0x1ef)](_0x23e364),new StandardTextObject('WELCOME\x20TO\x20GAME\x20OF\x20LIFE!!!!'),new StandardTextObject(_0x2ce46b(0x21b),0x28),new StandardTextObject(_0x2ce46b(0x271),0x46),new StandardTextObject('(mouse\x20can\x20also\x20be\x20used\x20to\x20move\x20up/left/right/down)',0x64),new StandardTextObject(_0x2ce46b(0x22b),0x82),new StandardTextObject(_0x2ce46b(0x207),0xa0);let _0x485a4e='??';var _0x35a584=new StandardTextObject(_0x2ce46b(0x296)+_0x485a4e,0xbe),_0x49dbc5=0.05;window[_0x2ce46b(0x266)](_0x2ce46b(0x227),_0x3e6ac0=>{const _0x2d08a0=_0x2ce46b;switch(_0x3e6ac0[_0x2d08a0(0x24f)]){case'f':case'F':_0x35a584[_0x2d08a0(0x1fd)]();break;case _0x2d08a0(0x25d):case'w':case'W':_0x2e6cfd[_0x2d08a0(0x211)](_0x49dbc5),_0x23e364[_0x2d08a0(0x29a)]();break;case _0x2d08a0(0x2a6):case's':case'S':_0x2e6cfd['moveDown'](_0x49dbc5),_0x23e364[_0x2d08a0(0x29a)]();break;case _0x2d08a0(0x289):case'a':case'A':_0x2e6cfd['moveLeft'](_0x49dbc5),_0x23e364[_0x2d08a0(0x29a)]();break;case _0x2d08a0(0x222):case'd':case'D':_0x2e6cfd['moveRight'](_0x49dbc5),_0x23e364[_0x2d08a0(0x29a)]();break;case'q':case'Q':_0x2e6cfd[_0x2d08a0(0x21a)](),_0x23e364[_0x2d08a0(0x29a)]();break;case'e':case'E':_0x2e6cfd[_0x2d08a0(0x200)](),_0x23e364[_0x2d08a0(0x29a)]();break;case'p':case'P':do_fps_stuff(tgtFPS>0x0?0x0:FPS);break;case'r':case'R':frameCnt=0x0,_0x23e364[_0x2d08a0(0x235)]();break;}});let _0x11d415={'x':0x0,'y':0x0},_0x128102=![];_0x33c943[_0x2ce46b(0x266)](_0x2ce46b(0x234),_0x2c5f4c=>{const _0x5ef9ab=_0x2ce46b,_0x1e7b5f=_0x2c5f4c['clientX'],_0x4f0381=_0x2c5f4c[_0x5ef9ab(0x20b)];console[_0x5ef9ab(0x218)](_0x5ef9ab(0x215)+_0x1e7b5f+',\x20'+_0x4f0381+')');}),_0x33c943['addEventListener'](_0x2ce46b(0x234),_0x4ee542=>{const _0x4e9642=_0x2ce46b,_0x24c82f=_0x4ee542['clientX']/window['innerWidth']*0x2-0x1,_0x32e571=-_0x4ee542[_0x4e9642(0x20b)]/window[_0x4e9642(0x217)]*0x2+0x1;console['log']('Mouse\x20is\x20at\x20('+_0x24c82f+',\x20'+_0x32e571+')');}),_0x33c943[_0x2ce46b(0x266)]('mousemove',_0x3a91b4=>{const _0x280359=_0x2ce46b;var _0x4821c5=_0x3a91b4[_0x280359(0x2aa)]/window[_0x280359(0x297)]*0x2-0x1,_0x1b8a97=-_0x3a91b4[_0x280359(0x20b)]/window[_0x280359(0x217)]*0x2+0x1;_0x4821c5/=_0x2e6cfd[_0x280359(0x204)][0x4],_0x1b8a97/=_0x2e6cfd['_pose'][0x5];let _0x4fac50=PGA2D[_0x280359(0x1ee)]([_0x4821c5,_0x1b8a97],[_0x2e6cfd[_0x280359(0x204)][0x0],_0x2e6cfd[_0x280359(0x204)][0x1],_0x2e6cfd[_0x280359(0x204)][0x2],_0x2e6cfd[_0x280359(0x204)][0x3]]);console['log'](_0x280359(0x215)+_0x4fac50[0x0]+',\x20'+_0x4fac50[0x1]+')');}),_0x33c943[_0x2ce46b(0x266)](_0x2ce46b(0x234),_0xbceec7=>{const _0x12d22d=_0x2ce46b;if(!_0x128102)return;const _0x20dc9d=mouseToNDC(_0xbceec7),_0x83bc54=_0x20dc9d[0x0]-_0x11d415['x'],_0x260e4a=_0x20dc9d[0x1]-_0x11d415['y'];let _0x323652=Math[_0x12d22d(0x249)](Math[_0x12d22d(0x279)](_0x83bc54,0x2)+Math[_0x12d22d(0x279)](_0x260e4a,0x2));if(_0x323652>0.001){_0x11d415['x']=_0x20dc9d[0x0],_0x11d415['y']=_0x20dc9d[0x1];if(_0x83bc54>0x0)_0x2e6cfd['moveRight'](-_0x83bc54);else _0x2e6cfd[_0x12d22d(0x2b3)](_0x83bc54);if(_0x260e4a>0x0)_0x2e6cfd[_0x12d22d(0x211)](-_0x260e4a);else _0x2e6cfd[_0x12d22d(0x270)](_0x260e4a);_0x23e364[_0x12d22d(0x29a)](),_0x285350[_0x12d22d(0x1ed)]();}}),_0x33c943[_0x2ce46b(0x266)]('mousedown',_0x4f3fcb=>{_0x128102=!![];const _0x5c4bb1=mouseToNDC(_0x4f3fcb);_0x11d415['x']=_0x5c4bb1[0x0],_0x11d415['y']=_0x5c4bb1[0x1];}),_0x33c943[_0x2ce46b(0x266)](_0x2ce46b(0x23e),_0x275171=>{_0x128102=![];}),_0x33c943[_0x2ce46b(0x266)](_0x2ce46b(0x1fe),_0xaeec44=>{_0x128102=![];}),_0x33c943[_0x2ce46b(0x266)](_0x2ce46b(0x234),_0x28b1fe=>{const _0x229838=_0x2ce46b;var _0x45ed81=_0x28b1fe['clientX']/window[_0x229838(0x297)]*0x2-0x1,_0x441ea1=-_0x28b1fe[_0x229838(0x20b)]/window[_0x229838(0x217)]*0x2+0x1;_0x45ed81/=_0x2e6cfd[_0x229838(0x204)][0x4],_0x441ea1/=_0x2e6cfd[_0x229838(0x204)][0x5];let _0x57ab54=PGA2D[_0x229838(0x1ee)]([_0x45ed81,_0x441ea1],[_0x2e6cfd[_0x229838(0x204)][0x0],_0x2e6cfd[_0x229838(0x204)][0x1],_0x2e6cfd[_0x229838(0x204)][0x2],_0x2e6cfd[_0x229838(0x204)][0x3]]),_0x5976c9=0x1,_0x27be31=_0x5976c9*0x2,_0x35660e=Math['floor']((_0x57ab54[0x0]+_0x5976c9)/_0x27be31*DIMENSION),_0x25f4d8=Math[_0x229838(0x232)]((_0x57ab54[0x1]+_0x5976c9)/_0x27be31*DIMENSION);console[_0x229838(0x218)]('Closest\x20offset\x20is\x20('+_0x35660e+',\x20'+_0x25f4d8+')');if(_0x35660e>=0x0&&_0x35660e<DIMENSION&&_0x25f4d8>=0x0&&_0x25f4d8<DIMENSION){let _0x519997=-_0x5976c9+_0x35660e/DIMENSION*_0x27be31+_0x27be31/DIMENSION*0.5,_0x18d3ed=-_0x5976c9+_0x25f4d8/DIMENSION*_0x27be31+_0x27be31/DIMENSION*0.5;-0.5/DIMENSION+_0x519997<=_0x57ab54[0x0]&&_0x57ab54[0x0]<=0.5/DIMENSION+_0x519997&&-0.5/DIMENSION+_0x18d3ed<=_0x57ab54[0x1]&&_0x57ab54[0x1]<=0.5/DIMENSION+_0x18d3ed&&console['log'](_0x229838(0x28a)+_0x35660e+',\x20'+_0x25f4d8+')');}}),do_fps_stuff(FPS);let _0x476ccc=()=>{const _0x5cb1df=_0x2ce46b;let _0x312ceb=Date[_0x5cb1df(0x210)]()-lastCalled;_0x312ceb>frameInterval&&(++frameCnt,lastCalled=Date[_0x5cb1df(0x210)]()-_0x312ceb%frameInterval,_0x285350[_0x5cb1df(0x1ed)]()),requestAnimationFrame(_0x476ccc);};return lastCalled=Date[_0x2ce46b(0x210)](),_0x476ccc(),setInterval(()=>{const _0x46646c=_0x2ce46b;_0x35a584[_0x46646c(0x29b)]('fps:\x20'+frameCnt),frameCnt=0x0;},0x3e8),_0x285350;}init()['then'](_0x212b11=>{const _0x5d99d4=_0x19eca0;console[_0x5d99d4(0x218)](_0x212b11);})[_0x19eca0(0x241)](_0x3199d2=>{const _0x19158b=_0x19eca0,_0x1fef2c=document[_0x19158b(0x23a)]('p');_0x1fef2c['innerHTML']=navigator[_0x19158b(0x22e)]+_0x19158b(0x2bf)+_0x3199d2[_0x19158b(0x2b0)],document[_0x19158b(0x2a8)]['appendChild'](_0x1fef2c),document[_0x19158b(0x2a0)](_0x19158b(0x25f))[_0x19158b(0x20d)]();});