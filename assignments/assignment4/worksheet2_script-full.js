const _0x2da526=_0x2dff;(function(_0x118ad5,_0x674b1b){const _0x5a1d02=_0x2dff,_0x4a6d96=_0x118ad5();while(!![]){try{const _0x4724b8=-parseInt(_0x5a1d02(0x1cd))/0x1+-parseInt(_0x5a1d02(0x213))/0x2*(-parseInt(_0x5a1d02(0x1e1))/0x3)+-parseInt(_0x5a1d02(0x1ca))/0x4+-parseInt(_0x5a1d02(0x191))/0x5+parseInt(_0x5a1d02(0x199))/0x6*(parseInt(_0x5a1d02(0x1dc))/0x7)+parseInt(_0x5a1d02(0x184))/0x8*(-parseInt(_0x5a1d02(0x183))/0x9)+-parseInt(_0x5a1d02(0x1cc))/0xa*(-parseInt(_0x5a1d02(0x16a))/0xb);if(_0x4724b8===_0x674b1b)break;else _0x4a6d96['push'](_0x4a6d96['shift']());}catch(_0x5bd4c0){_0x4a6d96['push'](_0x4a6d96['shift']());}}}(_0x4e35,0xedcc9));class Renderer{constructor(_0x5c3049){const _0x2f9377=_0x2dff;this[_0x2f9377(0x1ab)]=_0x5c3049,this[_0x2f9377(0x207)]=[],this[_0x2f9377(0x212)]={'r':0x0,'g':0x38/0xff,'b':0x65/0xff,'a':0x1};}async['init'](){const _0x307e2d=_0x2dff;if(!navigator[_0x307e2d(0x1a5)])throw Error('WebGPU\x20is\x20not\x20supported\x20in\x20this\x20browser.');const _0x4daa82=await navigator[_0x307e2d(0x1a5)]['requestAdapter']();if(!_0x4daa82)throw Error(_0x307e2d(0x18c));this[_0x307e2d(0x1fb)]=await _0x4daa82[_0x307e2d(0x20d)](),this['_context']=this[_0x307e2d(0x1ab)]['getContext'](_0x307e2d(0x1da)),this['_canvasFormat']=navigator[_0x307e2d(0x1a5)]['getPreferredCanvasFormat'](),this[_0x307e2d(0x1fc)][_0x307e2d(0x19e)]({'device':this['_device'],'format':this[_0x307e2d(0x171)]}),this[_0x307e2d(0x1f7)](),window['addEventListener'](_0x307e2d(0x204),this[_0x307e2d(0x1f7)][_0x307e2d(0x18f)](this));}[_0x2da526(0x1f7)](){const _0x177df9=_0x2da526,_0x20c49d=window[_0x177df9(0x1a0)]||0x1,_0x3ba229=window[_0x177df9(0x206)]*_0x20c49d,_0x28bfa7=window[_0x177df9(0x1c8)]*_0x20c49d;this[_0x177df9(0x1ab)][_0x177df9(0x174)]=_0x3ba229,this[_0x177df9(0x1ab)]['height']=_0x28bfa7,this[_0x177df9(0x1ab)][_0x177df9(0x189)][_0x177df9(0x174)]=window['innerWidth']+'px',this[_0x177df9(0x1ab)][_0x177df9(0x189)][_0x177df9(0x175)]=window[_0x177df9(0x1c8)]+'px',this['render']();}async[_0x2da526(0x1d5)](_0x522d1b){const _0x5044c2=_0x2da526;await _0x522d1b[_0x5044c2(0x1bc)](),this[_0x5044c2(0x207)][_0x5044c2(0x211)](_0x522d1b);}[_0x2da526(0x200)](_0x24c8c0){const _0x290bf1=_0x2da526;for(const _0x2139a1 of this[_0x290bf1(0x207)]){_0x2139a1?.[_0x290bf1(0x1ac)]();}let _0x17f53f=this[_0x290bf1(0x1fb)][_0x290bf1(0x1ba)]();const _0xcd5936=_0x17f53f['beginRenderPass']({'colorAttachments':[{'view':_0x24c8c0,'clearValue':this['_clearColor'],'loadOp':_0x290bf1(0x17b),'storeOp':'store'}]});for(const _0x519c92 of this[_0x290bf1(0x207)]){_0x519c92?.['render'](_0xcd5936);}_0xcd5936[_0x290bf1(0x1cb)]();const _0x5e3cf5=_0x17f53f[_0x290bf1(0x21a)]();for(const _0x19c6fd of this[_0x290bf1(0x207)]){_0x19c6fd?.[_0x290bf1(0x18d)](_0x5e3cf5);}_0x5e3cf5['end']();const _0x599b52=_0x17f53f[_0x290bf1(0x1ed)]();this[_0x290bf1(0x1fb)][_0x290bf1(0x1a8)][_0x290bf1(0x170)]([_0x599b52]);}[_0x2da526(0x1a3)](){const _0xade412=_0x2da526;this['renderToSelectedView'](this[_0xade412(0x1fc)][_0xade412(0x1b9)]()['createView']());}}class SceneObject{static [_0x2da526(0x166)]=0x0;constructor(_0x5c035d,_0x41721a,_0x56a26d){const _0x57c10c=_0x2da526;if(this[_0x57c10c(0x1e3)]==SceneObject)throw new Error(_0x57c10c(0x18e));this[_0x57c10c(0x1fb)]=_0x5c035d,this[_0x57c10c(0x171)]=_0x41721a,this[_0x57c10c(0x197)]=_0x56a26d,SceneObject[_0x57c10c(0x166)]+=0x1;}['getName'](){const _0x5dfae0=_0x2da526;return this[_0x5dfae0(0x1e3)]['name']+'\x20'+SceneObject[_0x5dfae0(0x166)][_0x5dfae0(0x19d)]();}async[_0x2da526(0x1bc)](){const _0x18ab47=_0x2da526;await this['createGeometry'](),await this[_0x18ab47(0x178)](),await this['createRenderPipeline'](),await this[_0x18ab47(0x19a)]();}async[_0x2da526(0x1c6)](){throw new Error('Method\x20\x27createGeometry()\x27\x20must\x20be\x20implemented.');}[_0x2da526(0x1ac)](){}[_0x2da526(0x195)](_0x528e54){return new Promise((_0xf94159,_0x59b2c3)=>{const _0x46e86e=_0x2dff,_0x5d0fc7=new XMLHttpRequest();_0x5d0fc7[_0x46e86e(0x1d8)](_0x46e86e(0x1fa),_0x528e54),_0x5d0fc7[_0x46e86e(0x1e8)]('Cache-Control','no-cache,\x20no-store,\x20max-age=0'),_0x5d0fc7[_0x46e86e(0x203)]=function(){const _0x242cfa=_0x46e86e;_0x5d0fc7[_0x242cfa(0x1e6)]===XMLHttpRequest[_0x242cfa(0x201)]&&_0x5d0fc7[_0x242cfa(0x1de)]===0xc8?_0xf94159(_0x5d0fc7[_0x242cfa(0x1be)]):_0x59b2c3({'status':_0x5d0fc7['status'],'statusText':_0x5d0fc7['statusText']});},_0x5d0fc7[_0x46e86e(0x16c)]=function(){const _0x4c023a=_0x46e86e;_0x59b2c3({'status':_0x5d0fc7[_0x4c023a(0x1de)],'statusText':_0x5d0fc7[_0x4c023a(0x1d3)]});},_0x5d0fc7[_0x46e86e(0x1e4)]();});}async[_0x2da526(0x178)](){const _0x27a776=_0x2da526;let _0x1763f5=await this[_0x27a776(0x195)](this[_0x27a776(0x197)]);this[_0x27a776(0x168)]=this[_0x27a776(0x1fb)][_0x27a776(0x167)]({'label':_0x27a776(0x1fd)+this['getName'](),'code':_0x1763f5});}async[_0x2da526(0x1e9)](){throw new Error('Method\x20\x27createRenderPipeline()\x27\x20must\x20be\x20implemented.');}['render'](_0xd1086d){const _0x41a300=_0x2da526;throw new Error(_0x41a300(0x16b));}async['createComputePipeline'](){const _0xad4b4b=_0x2da526;throw new Error(_0xad4b4b(0x1d6));}[_0x2da526(0x18d)](_0x66328c){const _0x30e15e=_0x2da526;throw new Error(_0x30e15e(0x1f2));}}const ELEMENTS=0xa,PARTICLES=0x30d4;class ParticleSystemObject extends SceneObject{constructor(_0x218387,_0x18c076,_0x454399,_0x149d98=PARTICLES){const _0x3bbc41=_0x2da526;super(_0x218387,_0x18c076,_0x454399),this[_0x3bbc41(0x1e2)]=_0x149d98,this[_0x3bbc41(0x1aa)]=0x0,this[_0x3bbc41(0x19b)]=new Float32Array([0x0]),this[_0x3bbc41(0x16f)]=new Image(),this[_0x3bbc41(0x16f)][_0x3bbc41(0x1c0)]=_0x3bbc41(0x1cf);}async['createGeometry'](){const _0x59c1ed=_0x2da526;await this[_0x59c1ed(0x172)](),await this['_img']['decode'](),this['_bitmap']=await createImageBitmap(this[_0x59c1ed(0x16f)]),this[_0x59c1ed(0x17c)]=this['_device'][_0x59c1ed(0x17d)]({'label':_0x59c1ed(0x1ea)+this[_0x59c1ed(0x1dd)](),'size':[this['_bitmap'][_0x59c1ed(0x174)],this[_0x59c1ed(0x1e0)][_0x59c1ed(0x175)],0x1],'format':_0x59c1ed(0x218),'usage':GPUTextureUsage[_0x59c1ed(0x164)]|GPUTextureUsage[_0x59c1ed(0x1d2)]|GPUTextureUsage[_0x59c1ed(0x1f9)]}),this[_0x59c1ed(0x1fb)]['queue'][_0x59c1ed(0x1c9)]({'source':this[_0x59c1ed(0x1e0)]},{'texture':this[_0x59c1ed(0x17c)],'premultipliedAlpha':!![]},[this[_0x59c1ed(0x1e0)][_0x59c1ed(0x174)],this[_0x59c1ed(0x1e0)][_0x59c1ed(0x175)]]),this[_0x59c1ed(0x1f3)]=this[_0x59c1ed(0x1fb)][_0x59c1ed(0x1ff)]({'magFilter':_0x59c1ed(0x1a7),'minFilter':_0x59c1ed(0x1a7)}),this[_0x59c1ed(0x208)]=this[_0x59c1ed(0x1fb)][_0x59c1ed(0x162)]({'label':_0x59c1ed(0x214)+this[_0x59c1ed(0x1dd)](),'size':this[_0x59c1ed(0x19b)]['byteLength'],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage['COPY_DST']}),this[_0x59c1ed(0x1ac)]();}async[_0x2da526(0x172)](){const _0x486693=_0x2da526;this['_particles']=new Float32Array(this[_0x486693(0x1e2)]*ELEMENTS),this[_0x486693(0x1b8)]=[this['_device'][_0x486693(0x162)]({'label':_0x486693(0x1f0)+this[_0x486693(0x1dd)](),'size':this['_particles'][_0x486693(0x196)],'usage':GPUBufferUsage[_0x486693(0x20f)]|GPUBufferUsage[_0x486693(0x1d2)]}),this[_0x486693(0x1fb)][_0x486693(0x162)]({'label':'Particle\x20status\x20Buffer\x202\x20'+this['getName'](),'size':this[_0x486693(0x17e)]['byteLength'],'usage':GPUBufferUsage[_0x486693(0x20f)]|GPUBufferUsage[_0x486693(0x1d2)]})],this[_0x486693(0x193)]();}[_0x2da526(0x193)](){const _0xfdfeb3=_0x2da526;for(let _0x4ee467=0x0;_0x4ee467<this[_0xfdfeb3(0x1e2)];++_0x4ee467){this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x0]=Math[_0xfdfeb3(0x18b)]()*0x2-0x1,this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x1]=Math[_0xfdfeb3(0x18b)]()*0x2-0x1,this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x2]=this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x0],this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x3]=this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x1];let _0x2aac92=0x2;this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x4]=0x2*(Math[_0xfdfeb3(0x18b)]()-0.5)*_0x2aac92,this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x5]=0x0;let _0x34d414=0xa;this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x6]=Math[_0xfdfeb3(0x18b)]()*0x80+0x80,this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x7]=this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x4],this['_particles'][ELEMENTS*_0x4ee467+0x8]=this[_0xfdfeb3(0x17e)][ELEMENTS*_0x4ee467+0x5];}this[_0xfdfeb3(0x1aa)]=0x0,this['_device'][_0xfdfeb3(0x1a8)][_0xfdfeb3(0x1c3)](this[_0xfdfeb3(0x1b8)][this[_0xfdfeb3(0x1aa)]%0x2],0x0,this[_0xfdfeb3(0x17e)]);}['updateGeometry'](){}async['createShaders'](){const _0x5502ab=_0x2da526;await super[_0x5502ab(0x178)](),this[_0x5502ab(0x20a)]=this['_device'][_0x5502ab(0x198)]({'label':_0x5502ab(0x1f6)+this[_0x5502ab(0x1dd)](),'entries':[{'binding':0x0,'visibility':GPUShaderStage['VERTEX']|GPUShaderStage['COMPUTE']|GPUShaderStage['FRAGMENT'],'buffer':{'type':_0x5502ab(0x176)}},{'binding':0x1,'visibility':GPUShaderStage[_0x5502ab(0x1bf)]|GPUShaderStage[_0x5502ab(0x180)],'buffer':{'type':_0x5502ab(0x1ce)}},{'binding':0x2,'visibility':GPUShaderStage[_0x5502ab(0x1bf)]|GPUShaderStage[_0x5502ab(0x180)],'buffer':{}},{'binding':0x3,'visibility':GPUShaderStage[_0x5502ab(0x180)],'texture':{}},{'binding':0x4,'visibility':GPUShaderStage[_0x5502ab(0x180)],'sampler':{}}]}),this['_pipelineLayout']=this['_device'][_0x5502ab(0x217)]({'label':_0x5502ab(0x1ad),'bindGroupLayouts':[this['_bindGroupLayout']]});}async[_0x2da526(0x1e9)](){const _0x17562c=_0x2da526;await this[_0x17562c(0x1b7)]();}async[_0x2da526(0x1b7)](){const _0x3ba5bf=_0x2da526;this[_0x3ba5bf(0x1f5)]=this[_0x3ba5bf(0x1fb)][_0x3ba5bf(0x1e9)]({'label':_0x3ba5bf(0x1e5)+this['getName'](),'layout':this[_0x3ba5bf(0x1c5)],'vertex':{'module':this[_0x3ba5bf(0x168)],'entryPoint':'vertexMain'},'fragment':{'module':this[_0x3ba5bf(0x168)],'entryPoint':'fragmentMain','targets':[{'format':this[_0x3ba5bf(0x171)]}]},'primitives':{'typology':_0x3ba5bf(0x1a6)}}),this['_bindGroups']=[this[_0x3ba5bf(0x1fb)]['createBindGroup']({'label':'#1','layout':this['_particlePipeline'][_0x3ba5bf(0x1f1)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x3ba5bf(0x1b8)][0x0]}},{'binding':0x1,'resource':{'buffer':this[_0x3ba5bf(0x1b8)][0x1]}},{'binding':0x2,'resource':{'buffer':this[_0x3ba5bf(0x208)]}},{'binding':0x3,'resource':this['_texture']['createView']()},{'binding':0x4,'resource':this['_sampler']}]}),this[_0x3ba5bf(0x1fb)][_0x3ba5bf(0x1b3)]({'label':'#2','layout':this[_0x3ba5bf(0x1f5)][_0x3ba5bf(0x1f1)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x3ba5bf(0x1b8)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x3ba5bf(0x1b8)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x3ba5bf(0x208)]}},{'binding':0x3,'resource':this['_texture'][_0x3ba5bf(0x1af)]()},{'binding':0x4,'resource':this[_0x3ba5bf(0x1f3)]}]})];}['render'](_0x48dbe7){const _0x21c45f=_0x2da526;_0x48dbe7[_0x21c45f(0x194)](this[_0x21c45f(0x1f5)]),_0x48dbe7[_0x21c45f(0x1df)](0x0,this[_0x21c45f(0x1ec)][this[_0x21c45f(0x1aa)]%0x2]),_0x48dbe7[_0x21c45f(0x1f8)](0x80,this[_0x21c45f(0x1e2)]);}async[_0x2da526(0x19a)](){const _0x5d2168=_0x2da526;this[_0x5d2168(0x1f4)]=this[_0x5d2168(0x1fb)]['createComputePipeline']({'label':_0x5d2168(0x1d0)+this[_0x5d2168(0x1dd)](),'layout':this[_0x5d2168(0x1c5)],'compute':{'module':this[_0x5d2168(0x168)],'entryPoint':'computeMain'}});}[_0x2da526(0x18d)](_0x3f9db6){const _0x359199=_0x2da526;_0x3f9db6[_0x359199(0x194)](this['_computePipeline']),_0x3f9db6['setBindGroup'](0x0,this['_bindGroups'][this['_step']%0x2]),_0x3f9db6[_0x359199(0x19f)](Math['ceil'](this['_numParticles']/0x100)),++this[_0x359199(0x1aa)];}};class StandardTextObject{constructor(_0x5a3204,_0x393b15=0xa,_0x4e6c06=0x5,_0x249168=_0x2da526(0x1b0)){const _0xe095d7=_0x2da526;this[_0xe095d7(0x185)]=_0x249168,this['_lineSpacing']=_0x4e6c06,this[_0xe095d7(0x163)]=document[_0xe095d7(0x202)](_0xe095d7(0x210)),this['_textContext']=this[_0xe095d7(0x163)][_0xe095d7(0x179)]('2d'),this[_0xe095d7(0x19c)](_0x5a3204),this[_0xe095d7(0x17f)](_0x5a3204),this[_0xe095d7(0x163)][_0xe095d7(0x189)][_0xe095d7(0x190)]=_0xe095d7(0x1c1),this['_textCanvas']['style'][_0xe095d7(0x177)]=_0x393b15+'px',this[_0xe095d7(0x163)][_0xe095d7(0x189)]['left']=_0xe095d7(0x1bb),this[_0xe095d7(0x163)][_0xe095d7(0x189)]['border']=_0xe095d7(0x1a1),document[_0xe095d7(0x1ae)]['appendChild'](this[_0xe095d7(0x163)]);}['updateTextRegion'](_0x5963dc){const _0x4f0140=_0x2da526;this['_textContext']['font']=this[_0x4f0140(0x185)],this[_0x4f0140(0x18a)]=_0x5963dc[_0x4f0140(0x21b)]('\x0a'),this['_width']=Math[_0x4f0140(0x216)](...this[_0x4f0140(0x18a)][_0x4f0140(0x20c)](_0x2d0cd2=>this[_0x4f0140(0x1ee)][_0x4f0140(0x161)](_0x2d0cd2)[_0x4f0140(0x174)]));const _0x50130f=this[_0x4f0140(0x185)][_0x4f0140(0x219)](/(\d+)px/);_0x50130f?this['_fontSize']=parseInt(_0x50130f[0x1],0xa):(this[_0x4f0140(0x1b6)]=0x12,this[_0x4f0140(0x185)]=_0x4f0140(0x1b0)),this[_0x4f0140(0x205)]=this[_0x4f0140(0x18a)][_0x4f0140(0x165)]*(this[_0x4f0140(0x1b6)]+this[_0x4f0140(0x1a4)]),this[_0x4f0140(0x1b4)]=0x5,this['_paddingtop']=0x3,this[_0x4f0140(0x1a9)]=Math[_0x4f0140(0x1ef)](this[_0x4f0140(0x186)]+this['_paddingx']*0x2),this[_0x4f0140(0x215)]=Math[_0x4f0140(0x1ef)](this[_0x4f0140(0x205)]+this[_0x4f0140(0x1eb)]),this[_0x4f0140(0x163)][_0x4f0140(0x174)]=this[_0x4f0140(0x1a9)],this[_0x4f0140(0x163)][_0x4f0140(0x175)]=this[_0x4f0140(0x215)],this['_textContext'][_0x4f0140(0x16e)]=this['_textFont'],this[_0x4f0140(0x1ee)]['textBaseline']=_0x4f0140(0x177);}[_0x2da526(0x17f)](_0x3e2b28){const _0x341e67=_0x2da526;this[_0x341e67(0x18a)]=_0x3e2b28[_0x341e67(0x21b)]('\x0a'),this[_0x341e67(0x1ee)][_0x341e67(0x1d7)]=_0x341e67(0x1c7),this[_0x341e67(0x1ee)][_0x341e67(0x1d1)](0x0,0x0,this['_canvasWidth'],this[_0x341e67(0x215)]),this[_0x341e67(0x1ee)][_0x341e67(0x187)](0x0,0x0,this[_0x341e67(0x1a9)],this['_canvasHeight']),this[_0x341e67(0x1ee)][_0x341e67(0x1d7)]=_0x341e67(0x17a),this[_0x341e67(0x18a)]['forEach']((_0x59e8a4,_0x20bf86)=>{const _0x146db6=_0x341e67,_0x5d2d9d=this[_0x146db6(0x1b4)],_0x4b9919=this[_0x146db6(0x1eb)]+_0x20bf86*(this[_0x146db6(0x1b6)]+this['_lineSpacing']);this[_0x146db6(0x1ee)][_0x146db6(0x1db)](_0x59e8a4,_0x5d2d9d,_0x4b9919);});}['toggleVisibility'](){const _0x3ee014=_0x2da526;this[_0x3ee014(0x163)][_0x3ee014(0x1b5)]=!this[_0x3ee014(0x163)][_0x3ee014(0x1b5)];}};;class Fire extends ParticleSystemObject{constructor(_0x4d8971,_0x482ca7,_0x14b971,_0x46a011=0x1000){const _0x4b45ec=_0x2da526;super(_0x4d8971,_0x482ca7,_0x14b971),this[_0x4b45ec(0x1e2)]=_0x46a011,this['_step']=0x0,this[_0x4b45ec(0x19b)]=new Float32Array([0x0]);}async[_0x2da526(0x1c6)](){const _0x1746aa=_0x2da526;await this[_0x1746aa(0x172)](),this['_timeBuffer']=this[_0x1746aa(0x1fb)][_0x1746aa(0x162)]({'label':_0x1746aa(0x214)+this[_0x1746aa(0x1dd)](),'size':this[_0x1746aa(0x19b)][_0x1746aa(0x196)],'usage':GPUBufferUsage['UNIFORM']|GPUBufferUsage[_0x1746aa(0x1d2)]}),this[_0x1746aa(0x1ac)]();}async['createParticleGeometry'](){const _0x53ac61=_0x2da526;this[_0x53ac61(0x17e)]=new Float32Array(this[_0x53ac61(0x1e2)]*0x8),this[_0x53ac61(0x1b8)]=[this['_device'][_0x53ac61(0x162)]({'label':_0x53ac61(0x1f0)+this[_0x53ac61(0x1dd)](),'size':this['_particles'][_0x53ac61(0x196)],'usage':GPUBufferUsage[_0x53ac61(0x20f)]|GPUBufferUsage[_0x53ac61(0x1d2)]}),this[_0x53ac61(0x1fb)]['createBuffer']({'label':'Particle\x20status\x20Buffer\x202\x20'+this[_0x53ac61(0x1dd)](),'size':this[_0x53ac61(0x17e)][_0x53ac61(0x196)],'usage':GPUBufferUsage[_0x53ac61(0x20f)]|GPUBufferUsage[_0x53ac61(0x1d2)]})],this[_0x53ac61(0x193)]();}[_0x2da526(0x193)](){const _0x3c2651=_0x2da526;for(let _0x440f72=0x0;_0x440f72<this[_0x3c2651(0x1e2)];++_0x440f72){this[_0x3c2651(0x17e)][0x8*_0x440f72+0x0]=0.75,this[_0x3c2651(0x17e)][0x8*_0x440f72+0x1]=-0.8,this[_0x3c2651(0x17e)][0x8*_0x440f72+0x2]=this[_0x3c2651(0x17e)][0x8*_0x440f72+0x0],this[_0x3c2651(0x17e)][0x8*_0x440f72+0x3]=this[_0x3c2651(0x17e)][0x8*_0x440f72+0x1];let _0x4137eb=0xc,_0x557f97=0xa,_0x124f1f=0x2*(Math['random']()-0.5)*_0x4137eb;this[_0x3c2651(0x17e)][0x8*_0x440f72+0x4]=_0x124f1f,this[_0x3c2651(0x17e)][0x8*_0x440f72+0x5]=Math['random']()*_0x557f97/0x2+_0x557f97/0x2;let _0x475730=0x26,_0x28ecd9=_0x475730/0x2,_0x33a7ea=Math['random']()*_0x475730;this[_0x3c2651(0x17e)][0x8*_0x440f72+0x6]=_0x33a7ea,this[_0x3c2651(0x17e)][0x8*_0x440f72+0x7]=_0x124f1f;}this[_0x3c2651(0x1aa)]=0x0,this[_0x3c2651(0x1fb)][_0x3c2651(0x1a8)][_0x3c2651(0x1c3)](this[_0x3c2651(0x1b8)][this[_0x3c2651(0x1aa)]%0x2],0x0,this[_0x3c2651(0x17e)]);}['updateGeometry'](){const _0x1dddc9=_0x2da526;this['_device'][_0x1dddc9(0x1a8)][_0x1dddc9(0x1c3)](this['_timeBuffer'],0x0,this[_0x1dddc9(0x19b)]);}async[_0x2da526(0x178)](){const _0x4b0976=_0x2da526;await super[_0x4b0976(0x178)](),this[_0x4b0976(0x20a)]=this[_0x4b0976(0x1fb)]['createBindGroupLayout']({'label':_0x4b0976(0x1f6)+this['getName'](),'entries':[{'binding':0x0,'visibility':GPUShaderStage[_0x4b0976(0x1d4)]|GPUShaderStage['COMPUTE'],'buffer':{'type':_0x4b0976(0x176)}},{'binding':0x1,'visibility':GPUShaderStage['COMPUTE'],'buffer':{'type':'storage'}},{'binding':0x2,'visibility':GPUShaderStage[_0x4b0976(0x1bf)]|GPUShaderStage[_0x4b0976(0x180)],'buffer':{}}]}),this[_0x4b0976(0x1c5)]=this[_0x4b0976(0x1fb)][_0x4b0976(0x217)]({'label':'Particles\x20Pipeline\x20Layout','bindGroupLayouts':[this[_0x4b0976(0x20a)]]});}async[_0x2da526(0x1e9)](){await this['createParticlePipeline']();}async[_0x2da526(0x1b7)](){const _0x3665a8=_0x2da526;this[_0x3665a8(0x1f5)]=this[_0x3665a8(0x1fb)][_0x3665a8(0x1e9)]({'label':_0x3665a8(0x1e5)+this[_0x3665a8(0x1dd)](),'layout':this[_0x3665a8(0x1c5)],'vertex':{'module':this[_0x3665a8(0x168)],'entryPoint':_0x3665a8(0x20e)},'fragment':{'module':this[_0x3665a8(0x168)],'entryPoint':_0x3665a8(0x160),'targets':[{'format':this['_canvasFormat'],'blend':{'color':{'srcFactor':'one','dstFactor':_0x3665a8(0x1b2),'operator':_0x3665a8(0x1a2)},'alpha':{'srcFactor':_0x3665a8(0x1d9),'dstFactor':'one-minus-src-alpha','operator':_0x3665a8(0x1a2)}}}]},'primitives':{'typology':'line-strip'}}),this[_0x3665a8(0x1ec)]=[this[_0x3665a8(0x1fb)]['createBindGroup']({'layout':this['_particlePipeline'][_0x3665a8(0x1f1)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this['_particleBuffers'][0x0]}},{'binding':0x1,'resource':{'buffer':this['_particleBuffers'][0x1]}},{'binding':0x2,'resource':{'buffer':this['_timeBuffer']}}]}),this[_0x3665a8(0x1fb)][_0x3665a8(0x1b3)]({'layout':this[_0x3665a8(0x1f5)][_0x3665a8(0x1f1)](0x0),'entries':[{'binding':0x0,'resource':{'buffer':this[_0x3665a8(0x1b8)][0x1]}},{'binding':0x1,'resource':{'buffer':this[_0x3665a8(0x1b8)][0x0]}},{'binding':0x2,'resource':{'buffer':this[_0x3665a8(0x208)]}}]})];}[_0x2da526(0x1a3)](_0x5348ba){const _0x42074e=_0x2da526;_0x5348ba[_0x42074e(0x194)](this['_particlePipeline']),_0x5348ba[_0x42074e(0x1df)](0x0,this['_bindGroups'][this[_0x42074e(0x1aa)]%0x2]),_0x5348ba[_0x42074e(0x1f8)](0x80,this[_0x42074e(0x1e2)]),this[_0x42074e(0x19b)]=new Float32Array([performance[_0x42074e(0x16d)]()/0x3e8]),this[_0x42074e(0x1ac)]();}async[_0x2da526(0x19a)](){const _0x266538=_0x2da526;this['_computePipeline']=this[_0x266538(0x1fb)][_0x266538(0x19a)]({'label':_0x266538(0x1d0)+this[_0x266538(0x1dd)](),'layout':this[_0x266538(0x1c5)],'compute':{'module':this['_shaderModule'],'entryPoint':_0x266538(0x169)}});}[_0x2da526(0x18d)](_0x602010){const _0x5743a3=_0x2da526;_0x602010[_0x5743a3(0x194)](this['_computePipeline']),_0x602010[_0x5743a3(0x1df)](0x0,this[_0x5743a3(0x1ec)][this['_step']%0x2]),_0x602010[_0x5743a3(0x19f)](Math[_0x5743a3(0x1ef)](this[_0x5743a3(0x1e2)]/0x100)),++this[_0x5743a3(0x1aa)];}};function _0x2dff(_0x4465a0,_0x5ae0ad){_0x4465a0=_0x4465a0-0x160;const _0x4e356f=_0x4e35();let _0x2dfffe=_0x4e356f[_0x4465a0];return _0x2dfffe;}async function init(){const _0xc49587=_0x2da526,_0x507428=document['createElement'](_0xc49587(0x210));_0x507428['id']=_0xc49587(0x1c2),document[_0xc49587(0x1ae)][_0xc49587(0x209)](_0x507428);const _0x39e924=new Renderer(_0x507428);await _0x39e924[_0xc49587(0x1bc)](),await _0x39e924[_0xc49587(0x1d5)](new ParticleSystemObject(_0x39e924[_0xc49587(0x1fb)],_0x39e924[_0xc49587(0x171)],'./optimized_particles.wgsl')),await _0x39e924['appendSceneObject'](new Fire(_0x39e924[_0xc49587(0x1fb)],_0x39e924[_0xc49587(0x171)],_0xc49587(0x173)));var _0x4b3414=new StandardTextObject(_0xc49587(0x1bd)),_0x42d1c5=new StandardTextObject(_0xc49587(0x1c4),0x28);let _0x50c6f9='??';var _0x22e1b1=new StandardTextObject(_0xc49587(0x182)+_0x50c6f9,0x50),_0x264ab0=0x0,_0x2f03c7=0x1e,_0x31efdc=0x1/_0x2f03c7,_0x5f389=_0x31efdc*0x3e8,_0x3b692b;let _0x1a2a68=()=>{let _0x23f67f=Date['now']()-_0x3b692b;_0x23f67f>_0x5f389&&(++_0x264ab0,_0x3b692b=Date['now']()-_0x23f67f%_0x5f389,_0x39e924['render']()),requestAnimationFrame(_0x1a2a68);};return _0x3b692b=Date[_0xc49587(0x16d)](),_0x1a2a68(),setInterval(()=>{const _0x1073b0=_0xc49587;_0x22e1b1[_0x1073b0(0x17f)]('fps:\x20'+_0x264ab0),_0x264ab0=0x0;},0x3e8),_0x39e924;}init()[_0x2da526(0x188)](_0x2ce1fd=>{const _0x1e381f=_0x2da526;console[_0x1e381f(0x192)](_0x2ce1fd);})[_0x2da526(0x20b)](_0x284fab=>{const _0x235fbe=_0x2da526,_0x4076ba=document[_0x235fbe(0x202)]('p');_0x4076ba[_0x235fbe(0x1b1)]=navigator[_0x235fbe(0x181)]+_0x235fbe(0x1fe)+_0x284fab['message'],document['body']['appendChild'](_0x4076ba),document['getElementById'](_0x235fbe(0x1c2))[_0x235fbe(0x1e7)]();});function _0x4e35(){const _0x376978=['Texture\x20','_paddingtop','_bindGroups','finish','_textContext','ceil','Particle\x20status\x20Buffer\x201\x20','getBindGroupLayout','Method\x20\x27compute(pass)\x27\x20must\x20be\x20implemented.','_sampler','_computePipeline','_particlePipeline','Particle\x20Bind\x20Group\x20Layout\x20','resizeCanvas','draw','RENDER_ATTACHMENT','GET','_device','_context','\x20Shader\x20','</br>','createSampler','renderToSelectedView','DONE','createElement','onload','resize','_height','innerWidth','_objects','_timeBuffer','appendChild','_bindGroupLayout','catch','map','requestDevice','vertexMain','STORAGE','canvas','push','_clearColor','2506GnqUHO','Time\x20','_canvasHeight','max','createPipelineLayout','rgba8unorm','match','beginComputePass','split','fragmentParticleMain','measureText','createBuffer','_textCanvas','TEXTURE_BINDING','length','_objectCnt','createShaderModule','_shaderModule','computeMain','11tvSmTt','Method\x20\x27render(pass)\x27\x20must\x20be\x20implemented.','onerror','now','font','_img','submit','_canvasFormat','createParticleGeometry','./optimized_fire.wgsl','width','height','read-only-storage','top','createShaders','getContext','white','clear','_texture','createTexture','_particles','updateText','FRAGMENT','userAgent','ＦＰＳ:\x20','99WDYSsL','160984cfGLmf','_textFont','_width','fillRect','then','style','_lines','random','Couldn\x27t\x20request\x20WebGPU\x20adapter.','compute','Abstract\x20classes\x20can\x27t\x20be\x20instantiated.','bind','position','5083450EclIfW','log','resetParticles','setPipeline','loadShader','byteLength','_shaderFile','createBindGroupLayout','10830PWnatJ','createComputePipeline','_time','updateTextRegion','toString','configure','dispatchWorkgroups','devicePixelRatio','1px\x20solid\x20red','add','render','_lineSpacing','gpu','triangle-strip','linear','queue','_canvasWidth','_step','_canvas','updateGeometry','Particles\x20Pipeline\x20Layout','body','createView','18px\x20Arial','innerHTML','one-minus-src-alpha','createBindGroup','_paddingx','hidden','_fontSize','createParticlePipeline','_particleBuffers','getCurrentTexture','createCommandEncoder','10px','init','おおお！これが「WONDERFUL\x20RAINBOW\x20SKULLS\x20THAT\x20BOUNCE」です！','responseText','COMPUTE','src','absolute','renderCanvas','writeBuffer','ああ、すごい！！','_pipelineLayout','createGeometry','rgba(1,\x201,\x201,\x200.5)','innerHeight','copyExternalImageToTexture','2004760GyOvfc','end','11769490XElyaC','1473403bAclvv','storage','./スケーリーフット.png','Particles\x20Compute\x20Pipeline\x20','clearRect','COPY_DST','statusText','VERTEX','appendSceneObject','Method\x20\x27createComputePipeline()\x27\x20must\x20be\x20implemented.','fillStyle','open','one','webgpu','fillText','6769WXfeoR','getName','status','setBindGroup','_bitmap','3027GuKoRF','_numParticles','constructor','send','Particles\x20Render\x20Pipeline\x20','readyState','remove','setRequestHeader','createRenderPipeline'];_0x4e35=function(){return _0x376978;};return _0x4e35();}